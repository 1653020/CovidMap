{"ast":null,"code":"import _assertThisInitialized from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport _wrapNativeSuper from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/wrapNativeSuper\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _toConsumableArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n/**\n * Helpers.\n */\n\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nvar ms = function ms(val, options) {\n  options = options || {};\n  var type = typeof val;\n\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n};\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\n\nfunction parse(str) {\n  str = String(str);\n\n  if (str.length > 100) {\n    return;\n  }\n\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n\n  if (!match) {\n    return;\n  }\n\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n\n    default:\n      return undefined;\n  }\n}\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n\n  return ms + 'ms';\n}\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n\n  return ms + ' ms';\n}\n/**\n * Pluralization helper.\n */\n\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = ms;\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    var newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n    newDebug.log = this.log;\n    return newDebug;\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @return {String} namespaces\n  * @api public\n  */\n\n\n  function disable() {\n    var namespaces = [].concat(_toConsumableArray(createDebug.names.map(toNamespace)), _toConsumableArray(createDebug.skips.map(toNamespace).map(function (namespace) {\n      return '-' + namespace;\n    }))).join(',');\n    createDebug.enable('');\n    return namespaces;\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Convert regexp to namespace\n  *\n  * @param {RegExp} regxep\n  * @return {String} namespace\n  * @api private\n  */\n\n\n  function toNamespace(regexp) {\n    return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, '*');\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nvar common = setup;\nvar browser = createCommonjsModule(function (module, exports) {\n  /* eslint-env browser */\n\n  /**\n   * This is the web browser implementation of `debug()`.\n   */\n  exports.log = log;\n  exports.formatArgs = formatArgs;\n  exports.save = save;\n  exports.load = load;\n  exports.useColors = useColors;\n  exports.storage = localstorage();\n  /**\n   * Colors.\n   */\n\n  exports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n  /**\n   * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n   * and the Firebug extension (any Firefox version) are known\n   * to support \"%c\" CSS customizations.\n   *\n   * TODO: add a `localStorage` variable to explicitly enable/disable colors\n   */\n  // eslint-disable-next-line complexity\n\n  function useColors() {\n    // NB: In an Electron preload script, document will be defined but not fully\n    // initialized. Since we know we're in Chrome, we'll just detect this case\n    // explicitly\n    if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n      return true;\n    } // Internet Explorer and Edge do not support colors.\n\n\n    if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n      return false;\n    } // Is webkit? http://stackoverflow.com/a/16459606/376773\n    // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n    return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n    typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n    typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n  }\n  /**\n   * Colorize log arguments if enabled.\n   *\n   * @api public\n   */\n\n\n  function formatArgs(args) {\n    args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n    if (!this.useColors) {\n      return;\n    }\n\n    var c = 'color: ' + this.color;\n    args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n    // arguments passed either before or after the %c, so we need to\n    // figure out the correct index to insert the CSS into\n\n    var index = 0;\n    var lastC = 0;\n    args[0].replace(/%[a-zA-Z%]/g, function (match) {\n      if (match === '%%') {\n        return;\n      }\n\n      index++;\n\n      if (match === '%c') {\n        // We only are interested in the *last* %c\n        // (the user may have provided their own)\n        lastC = index;\n      }\n    });\n    args.splice(lastC, 0, c);\n  }\n  /**\n   * Invokes `console.log()` when available.\n   * No-op when `console.log` is not a \"function\".\n   *\n   * @api public\n   */\n\n\n  function log() {\n    var _console;\n\n    // This hackery is required for IE8/9, where\n    // the `console.log` function doesn't have 'apply'\n    return typeof console === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n  }\n  /**\n   * Save `namespaces`.\n   *\n   * @param {String} namespaces\n   * @api private\n   */\n\n\n  function save(namespaces) {\n    try {\n      if (namespaces) {\n        exports.storage.setItem('debug', namespaces);\n      } else {\n        exports.storage.removeItem('debug');\n      }\n    } catch (error) {// Swallow\n      // XXX (@Qix-) should we be logging these?\n    }\n  }\n  /**\n   * Load `namespaces`.\n   *\n   * @return {String} returns the previously persisted debug modes\n   * @api private\n   */\n\n\n  function load() {\n    var r;\n\n    try {\n      r = exports.storage.getItem('debug');\n    } catch (error) {} // Swallow\n    // XXX (@Qix-) should we be logging these?\n    // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n    if (!r && typeof process !== 'undefined' && 'env' in process) {\n      r = process.env.DEBUG;\n    }\n\n    return r;\n  }\n  /**\n   * Localstorage attempts to return the localstorage.\n   *\n   * This is necessary because safari throws\n   * when a user disables cookies/localstorage\n   * and you attempt to access it.\n   *\n   * @return {LocalStorage}\n   * @api private\n   */\n\n\n  function localstorage() {\n    try {\n      // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n      // The Browser also has localStorage in the global context.\n      return localStorage;\n    } catch (error) {// Swallow\n      // XXX (@Qix-) should we be logging these?\n    }\n  }\n\n  module.exports = common(exports);\n  var formatters = module.exports.formatters;\n  /**\n   * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n   */\n\n  formatters.j = function (v) {\n    try {\n      return JSON.stringify(v);\n    } catch (error) {\n      return '[UnexpectedJSONParseError]: ' + error.message;\n    }\n  };\n});\nvar browser_1 = browser.log;\nvar browser_2 = browser.formatArgs;\nvar browser_3 = browser.save;\nvar browser_4 = browser.load;\nvar browser_5 = browser.useColors;\nvar browser_6 = browser.storage;\nvar browser_7 = browser.colors;\nvar debugFunc;\nvar phase = 'default';\nvar namespace = '';\n\nvar newDebug = function newDebug() {\n  debugFunc = namespace ? browser(\"fetch-mock:\".concat(phase, \":\").concat(namespace)) : browser(\"fetch-mock:\".concat(phase));\n};\n\nvar newDebugSandbox = function newDebugSandbox(ns) {\n  return browser(\"fetch-mock:\".concat(phase, \":\").concat(ns));\n};\n\nnewDebug();\nvar debug_1 = {\n  debug: function debug() {\n    debugFunc.apply(void 0, arguments);\n  },\n  setDebugNamespace: function setDebugNamespace(str) {\n    namespace = str;\n    newDebug();\n  },\n  setDebugPhase: function setDebugPhase(str) {\n    phase = str || 'default';\n    newDebug();\n  },\n  getDebug: function getDebug(namespace) {\n    return newDebugSandbox(namespace);\n  }\n};\nvar debug = debug_1.debug,\n    setDebugPhase = debug_1.setDebugPhase;\nvar FetchMock = {};\n\nFetchMock.mock = function () {\n  setDebugPhase('setup');\n\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (args.length) {\n    this.addRoute(args);\n  }\n\n  return this._mock();\n};\n\nFetchMock.addRoute = function (uncompiledRoute) {\n  var _this = this;\n\n  debug('Adding route', uncompiledRoute);\n  var route = this.compileRoute(uncompiledRoute);\n  var clashes = this.routes.filter(function (_ref) {\n    var identifier = _ref.identifier,\n        method = _ref.method;\n    return identifier === route.identifier && (!method || !route.method || method === route.method);\n  });\n\n  if (this.getOption('overwriteRoutes', route) === false || !clashes.length) {\n    this._uncompiledRoutes.push(uncompiledRoute);\n\n    return this.routes.push(route);\n  }\n\n  if (this.getOption('overwriteRoutes', route) === true) {\n    clashes.forEach(function (clash) {\n      var index = _this.routes.indexOf(clash);\n\n      _this._uncompiledRoutes.splice(index, 1, uncompiledRoute);\n\n      _this.routes.splice(index, 1, route);\n    });\n    return this.routes;\n  }\n\n  if (clashes.length) {\n    throw new Error('fetch-mock: Adding route with same name or matcher as existing route. See `overwriteRoutes` option.');\n  }\n\n  this._uncompiledRoutes.push(uncompiledRoute);\n\n  this.routes.push(route);\n};\n\nFetchMock._mock = function () {\n  if (!this.isSandbox) {\n    // Do this here rather than in the constructor to ensure it's scoped to the test\n    this.realFetch = this.realFetch || this.global.fetch;\n    this.global.fetch = this.fetchHandler;\n  }\n\n  setDebugPhase();\n  return this;\n};\n\nFetchMock.catch = function (response) {\n  if (this.fallbackResponse) {\n    console.warn('calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response'); // eslint-disable-line\n  }\n\n  this.fallbackResponse = response || 'ok';\n  return this._mock();\n};\n\nFetchMock.spy = function () {\n  this._mock();\n\n  return this.catch(this.getNativeFetch());\n};\n\nvar defineShorthand = function defineShorthand(methodName, underlyingMethod, shorthandOptions) {\n  FetchMock[methodName] = function (matcher, response, options) {\n    return this[underlyingMethod](matcher, response, Object.assign(options || {}, shorthandOptions));\n  };\n};\n\nvar defineGreedyShorthand = function defineGreedyShorthand(methodName, underlyingMethod) {\n  FetchMock[methodName] = function (response, options) {\n    return this[underlyingMethod]({}, response, options);\n  };\n};\n\ndefineShorthand('once', 'mock', {\n  repeat: 1\n});\ndefineGreedyShorthand('any', 'mock');\ndefineGreedyShorthand('anyOnce', 'once');\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(function (method) {\n  defineShorthand(method, 'mock', {\n    method: method\n  });\n  defineShorthand(\"\".concat(method, \"Once\"), 'once', {\n    method: method\n  });\n  defineGreedyShorthand(\"\".concat(method, \"Any\"), method);\n  defineGreedyShorthand(\"\".concat(method, \"AnyOnce\"), \"\".concat(method, \"Once\"));\n});\n\nFetchMock.resetBehavior = function () {\n  if (this.realFetch) {\n    this.global.fetch = this.realFetch;\n    this.realFetch = undefined;\n  }\n\n  this.fallbackResponse = undefined;\n  this.routes = [];\n  this._uncompiledRoutes = [];\n  return this;\n};\n\nFetchMock.resetHistory = function () {\n  this._calls = [];\n  this._holdingPromises = [];\n  this.routes.forEach(function (route) {\n    return route.reset && route.reset();\n  });\n  return this;\n};\n\nFetchMock.restore = FetchMock.reset = function () {\n  this.resetBehavior();\n  this.resetHistory();\n  return this;\n};\n\nvar setUpAndTearDown = FetchMock;\nvar getDebug = debug_1.getDebug;\nvar responseConfigProps = ['body', 'headers', 'throws', 'status', 'redirectUrl'];\n\nvar ResponseBuilder = /*#__PURE__*/function () {\n  function ResponseBuilder(options) {\n    _classCallCheck(this, ResponseBuilder);\n\n    this.debug = getDebug('ResponseBuilder()');\n    this.debug('Response builder created with options', options);\n    Object.assign(this, options);\n  }\n\n  _createClass(ResponseBuilder, [{\n    key: \"exec\",\n    value: function exec() {\n      this.debug('building response');\n      this.normalizeResponseConfig();\n      this.constructFetchOpts();\n      this.constructResponseBody();\n      return this.buildObservableResponse(new this.fetchMock.config.Response(this.body, this.options));\n    }\n  }, {\n    key: \"sendAsObject\",\n    value: function sendAsObject() {\n      var _this2 = this;\n\n      if (responseConfigProps.some(function (prop) {\n        return _this2.responseConfig[prop];\n      })) {\n        if (Object.keys(this.responseConfig).every(function (key) {\n          return responseConfigProps.includes(key);\n        })) {\n          return false;\n        } else {\n          return true;\n        }\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"normalizeResponseConfig\",\n    value: function normalizeResponseConfig() {\n      // If the response config looks like a status, start to generate a simple response\n      if (typeof this.responseConfig === 'number') {\n        this.debug('building response using status', this.responseConfig);\n        this.responseConfig = {\n          status: this.responseConfig\n        }; // If the response config is not an object, or is an object that doesn't use\n        // any reserved properties, assume it is meant to be the body of the response\n      } else if (typeof this.responseConfig === 'string' || this.sendAsObject()) {\n        this.debug('building text response from', this.responseConfig);\n        this.responseConfig = {\n          body: this.responseConfig\n        };\n      }\n    }\n  }, {\n    key: \"validateStatus\",\n    value: function validateStatus(status) {\n      if (!status) {\n        this.debug('No status provided. Defaulting to 200');\n        return 200;\n      }\n\n      if (typeof status === 'number' && parseInt(status, 10) !== status && status >= 200 || status < 600) {\n        this.debug('Valid status provided', status);\n        return status;\n      }\n\n      throw new TypeError(\"fetch-mock: Invalid status \".concat(status, \" passed on response object.\\nTo respond with a JSON object that has status as a property assign the object to body\\ne.g. {\\\"body\\\": {\\\"status: \\\"registered\\\"}}\"));\n    }\n  }, {\n    key: \"constructFetchOpts\",\n    value: function constructFetchOpts() {\n      this.options = this.responseConfig.options || {};\n      this.options.url = this.responseConfig.redirectUrl || this.url;\n      this.options.status = this.validateStatus(this.responseConfig.status);\n      this.options.statusText = this.fetchMock.statusTextMap[String(this.options.status)]; // Set up response headers. The empty object is to cope with\n      // new Headers(undefined) throwing in Chrome\n      // https://code.google.com/p/chromium/issues/detail?id=335871\n\n      this.options.headers = new this.fetchMock.config.Headers(this.responseConfig.headers || {});\n    }\n  }, {\n    key: \"getOption\",\n    value: function getOption(name) {\n      return this.fetchMock.getOption(name, this.route);\n    }\n  }, {\n    key: \"convertToJson\",\n    value: function convertToJson() {\n      // convert to json if we need to\n      if (this.getOption('sendAsJson') && this.responseConfig.body != null && //eslint-disable-line\n      typeof this.body === 'object') {\n        this.debug('Stringifying JSON response body');\n        this.body = JSON.stringify(this.body);\n\n        if (!this.options.headers.has('Content-Type')) {\n          this.options.headers.set('Content-Type', 'application/json');\n        }\n      }\n    }\n  }, {\n    key: \"setContentLength\",\n    value: function setContentLength() {\n      // add a Content-Length header if we need to\n      if (this.getOption('includeContentLength') && typeof this.body === 'string' && !this.options.headers.has('Content-Length')) {\n        this.debug('Setting content-length header:', this.body.length.toString());\n        this.options.headers.set('Content-Length', this.body.length.toString());\n      }\n    }\n  }, {\n    key: \"constructResponseBody\",\n    value: function constructResponseBody() {\n      // start to construct the body\n      this.body = this.responseConfig.body;\n      this.convertToJson();\n      this.setContentLength(); // On the server we need to manually construct the readable stream for the\n      // Response object (on the client this done automatically)\n\n      if (this.Stream) {\n        this.debug('Creating response stream');\n        var stream = new this.Stream.Readable();\n\n        if (this.body != null) {\n          //eslint-disable-line\n          stream.push(this.body, 'utf-8');\n        }\n\n        stream.push(null);\n        this.body = stream;\n      }\n\n      this.body = this.body;\n    }\n  }, {\n    key: \"buildObservableResponse\",\n    value: function buildObservableResponse(response) {\n      var _this3 = this;\n\n      var fetchMock = this.fetchMock; // Using a proxy means we can set properties that may not be writable on\n      // the original Response. It also means we can track the resolution of\n      // promises returned by res.json(), res.text() etc\n\n      this.debug('Wrappipng Response in ES proxy for observability');\n      return new Proxy(response, {\n        get: function get(originalResponse, name) {\n          if (_this3.responseConfig.redirectUrl) {\n            if (name === 'url') {\n              _this3.debug('Retrieving redirect url', _this3.responseConfig.redirectUrl);\n\n              return _this3.responseConfig.redirectUrl;\n            }\n\n            if (name === 'redirected') {\n              _this3.debug('Retrieving redirected status', true);\n\n              return true;\n            }\n          }\n\n          if (typeof originalResponse[name] === 'function') {\n            _this3.debug('Wrapping body promises in ES proxies for observability');\n\n            return new Proxy(originalResponse[name], {\n              apply: function apply(func, thisArg, args) {\n                _this3.debug(\"Calling res.\".concat(name));\n\n                var result = func.apply(response, args);\n\n                if (result.then) {\n                  fetchMock._holdingPromises.push(result.catch(function () {\n                    return null;\n                  }));\n                }\n\n                return result;\n              }\n            });\n          }\n\n          return originalResponse[name];\n        }\n      });\n    }\n  }]);\n\n  return ResponseBuilder;\n}();\n\nvar responseBuilder = function responseBuilder(options) {\n  return new ResponseBuilder(options).exec();\n};\n\nvar URL; // https://stackoverflow.com/a/19709846/308237\n\nvar absoluteUrlRX = new RegExp('^(?:[a-z]+:)?//', 'i');\n\nvar headersToArray = function headersToArray(headers) {\n  // node-fetch 1 Headers\n  if (typeof headers.raw === 'function') {\n    return Object.entries(headers.raw());\n  } else if (headers[Symbol.iterator]) {\n    return _toConsumableArray(headers);\n  } else {\n    return Object.entries(headers);\n  }\n};\n\nvar zipObject = function zipObject(entries) {\n  return entries.reduce(function (obj, _ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        key = _ref3[0],\n        val = _ref3[1];\n\n    return Object.assign(obj, _defineProperty({}, key, val));\n  }, {});\n};\n\nvar normalizeUrl = function normalizeUrl(url) {\n  if (typeof url === 'function' || url instanceof RegExp || /^(begin|end|glob|express|path)\\:/.test(url)) {\n    return url;\n  }\n\n  if (absoluteUrlRX.test(url)) {\n    var u = new URL(url);\n    return u.href;\n  } else {\n    var _u = new URL(url, 'http://dummy');\n\n    return _u.pathname + _u.search;\n  }\n};\n\nvar extractBody = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(request) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            if (!('body' in request)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", request.body.toString());\n\n          case 3:\n            return _context.abrupt(\"return\", request.clone().text());\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 6]]);\n  }));\n\n  return function extractBody(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar requestUtils = {\n  setUrlImplementation: function setUrlImplementation(it) {\n    URL = it;\n  },\n  normalizeRequest: function normalizeRequest(url, options, Request) {\n    if (Request.prototype.isPrototypeOf(url)) {\n      var derivedOptions = {\n        method: url.method\n      };\n      var body = extractBody(url);\n\n      if (typeof body !== 'undefined') {\n        derivedOptions.body = body;\n      }\n\n      var normalizedRequestObject = {\n        url: normalizeUrl(url.url),\n        options: Object.assign(derivedOptions, options),\n        request: url,\n        signal: options && options.signal || url.signal\n      };\n      var headers = headersToArray(url.headers);\n\n      if (headers.length) {\n        normalizedRequestObject.options.headers = zipObject(headers);\n      }\n\n      return normalizedRequestObject;\n    } else if (typeof url === 'string' || // horrible URL object duck-typing\n    typeof url === 'object' && 'href' in url) {\n      return {\n        url: normalizeUrl(url),\n        options: options,\n        signal: options && options.signal\n      };\n    } else if (typeof url === 'object') {\n      throw new TypeError('fetch-mock: Unrecognised Request object. Read the Config and Installation sections of the docs');\n    } else {\n      throw new TypeError('fetch-mock: Invalid arguments passed to fetch');\n    }\n  },\n  normalizeUrl: normalizeUrl,\n  getPath: function getPath(url) {\n    var u = absoluteUrlRX.test(url) ? new URL(url) : new URL(url, 'http://dummy');\n    return u.pathname;\n  },\n  getQuery: function getQuery(url) {\n    var u = absoluteUrlRX.test(url) ? new URL(url) : new URL(url, 'http://dummy');\n    return u.search ? u.search.substr(1) : '';\n  },\n  headers: {\n    normalize: function normalize(headers) {\n      return zipObject(headersToArray(headers));\n    },\n    toLowerCase: function toLowerCase(headers) {\n      return Object.keys(headers).reduce(function (obj, k) {\n        obj[k.toLowerCase()] = headers[k];\n        return obj;\n      }, {});\n    },\n    equal: function equal(actualHeader, expectedHeader) {\n      actualHeader = Array.isArray(actualHeader) ? actualHeader : [actualHeader];\n      expectedHeader = Array.isArray(expectedHeader) ? expectedHeader : [expectedHeader];\n\n      if (actualHeader.length !== expectedHeader.length) {\n        return false;\n      }\n\n      return actualHeader.every(function (val, i) {\n        return val === expectedHeader[i];\n      });\n    }\n  }\n};\nvar debug$1 = debug_1.debug,\n    setDebugPhase$1 = debug_1.setDebugPhase,\n    getDebug$1 = debug_1.getDebug;\nvar FetchMock$1 = {}; // see https://heycam.github.io/webidl/#aborterror for the standardised interface\n// Note that this differs slightly from node-fetch\n\nvar AbortError = /*#__PURE__*/function (_Error) {\n  _inherits(AbortError, _Error);\n\n  var _super = _createSuper(AbortError);\n\n  function AbortError() {\n    var _this4;\n\n    _classCallCheck(this, AbortError);\n\n    _this4 = _super.apply(this, arguments);\n    _this4.name = 'AbortError';\n    _this4.message = 'The operation was aborted.'; // Do not include this class in the stacktrace\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this4), _this4.constructor);\n    }\n\n    return _this4;\n  }\n\n  return AbortError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar resolve = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref5, url, options, request) {\n    var response, _ref5$responseIsFetch, responseIsFetch, debug;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            response = _ref5.response, _ref5$responseIsFetch = _ref5.responseIsFetch, responseIsFetch = _ref5$responseIsFetch === void 0 ? false : _ref5$responseIsFetch;\n            debug = getDebug$1('resolve()');\n            debug('Recursively resolving function and promise responses'); // We want to allow things like\n            // - function returning a Promise for a response\n            // - delaying (using a timeout Promise) a function's execution to generate\n            //   a response\n            // Because of this we can't safely check for function before Promisey-ness,\n            // or vice versa. So to keep it DRY, and flexible, we keep trying until we\n            // have something that looks like neither Promise nor function\n\n          case 3:\n            if (!true) {\n              _context2.next = 31;\n              break;\n            }\n\n            if (!(typeof response === 'function')) {\n              _context2.next = 18;\n              break;\n            }\n\n            debug('  Response is a function'); // in the case of falling back to the network we need to make sure we're using\n            // the original Request instance, not our normalised url + options\n\n            if (!responseIsFetch) {\n              _context2.next = 14;\n              break;\n            }\n\n            if (!request) {\n              _context2.next = 10;\n              break;\n            }\n\n            debug('  -> Calling fetch with Request instance');\n            return _context2.abrupt(\"return\", response(request));\n\n          case 10:\n            debug('  -> Calling fetch with url and options');\n            return _context2.abrupt(\"return\", response(url, options));\n\n          case 14:\n            debug('  -> Calling response function');\n            response = response(url, options, request);\n\n          case 16:\n            _context2.next = 29;\n            break;\n\n          case 18:\n            if (!(typeof response.then === 'function')) {\n              _context2.next = 26;\n              break;\n            }\n\n            debug('  Response is a promise');\n            debug('  -> Resolving promise');\n            _context2.next = 23;\n            return response;\n\n          case 23:\n            response = _context2.sent;\n            _context2.next = 29;\n            break;\n\n          case 26:\n            debug('  Response is not a function or a promise');\n            debug('  -> Exiting response resolution recursion');\n            return _context2.abrupt(\"return\", response);\n\n          case 29:\n            _context2.next = 3;\n            break;\n\n          case 31:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function resolve(_x4, _x5, _x6, _x7) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nFetchMock$1.fetchHandler = function (url, options, request) {\n  setDebugPhase$1('handle');\n  var debug = getDebug$1('fetchHandler()');\n  debug('fetch called with:', url, options);\n  var normalizedRequest = requestUtils.normalizeRequest(url, options, this.config.Request);\n  url = normalizedRequest.url;\n  options = normalizedRequest.options;\n  request = normalizedRequest.request;\n  var signal = normalizedRequest.signal;\n  debug('Request normalised');\n  debug('  url', url);\n  debug('  options', options);\n  debug('  request', request);\n  debug('  signal', signal);\n\n  if (request && this.routes.some(function (_ref7) {\n    var usesBody = _ref7.usesBody;\n    return usesBody;\n  })) {\n    debug('Need to wait for Body to be streamed before calling router: switching to async mode');\n    return this._asyncFetchHandler(url, options, request, signal);\n  }\n\n  return this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._asyncFetchHandler = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url, options, request, signal) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return options.body;\n\n          case 2:\n            options.body = _context3.sent;\n            return _context3.abrupt(\"return\", this._fetchHandler(url, options, request, signal));\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x8, _x9, _x10, _x11) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nFetchMock$1._fetchHandler = function (url, options, request, signal) {\n  var _this5 = this;\n\n  var route = this.executeRouter(url, options, request); // this is used to power the .flush() method\n\n  var done;\n\n  this._holdingPromises.push(new this.config.Promise(function (res) {\n    return done = res;\n  })); // wrapped in this promise to make sure we respect custom Promise\n  // constructors defined by the user\n\n\n  return new this.config.Promise(function (res, rej) {\n    if (signal) {\n      debug$1('signal exists - enabling fetch abort');\n\n      var abort = function abort() {\n        debug$1('aborting fetch'); // note that DOMException is not available in node.js; even node-fetch uses a custom error class: https://github.com/bitinn/node-fetch/blob/master/src/abort-error.js\n\n        rej(typeof DOMException !== 'undefined' ? new DOMException('The operation was aborted.', 'AbortError') : new AbortError());\n        done();\n      };\n\n      if (signal.aborted) {\n        debug$1('signal is already aborted - aborting the fetch');\n        abort();\n      }\n\n      signal.addEventListener('abort', abort);\n    }\n\n    _this5.generateResponse(route, url, options, request).then(res, rej).then(done, done).then(function () {\n      setDebugPhase$1();\n    });\n  });\n};\n\nFetchMock$1.fetchHandler.isMock = true;\n\nFetchMock$1.executeRouter = function (url, options, request) {\n  var debug = getDebug$1('executeRouter()');\n  debug(\"Attempting to match request to a route\");\n\n  if (this.getOption('fallbackToNetwork') === 'always') {\n    debug('  Configured with fallbackToNetwork=always - passing through to fetch');\n    return {\n      response: this.getNativeFetch(),\n      responseIsFetch: true\n    };\n  }\n\n  var match = this.router(url, options, request);\n\n  if (match) {\n    debug('  Matching route found');\n    return match;\n  }\n\n  if (this.getOption('warnOnFallback')) {\n    console.warn(\"Unmatched \".concat(options && options.method || 'GET', \" to \").concat(url)); // eslint-disable-line\n  }\n\n  this.push({\n    url: url,\n    options: options,\n    request: request,\n    isUnmatched: true\n  });\n\n  if (this.fallbackResponse) {\n    debug('  No matching route found - using fallbackResponse');\n    return {\n      response: this.fallbackResponse\n    };\n  }\n\n  if (!this.getOption('fallbackToNetwork')) {\n    throw new Error(\"fetch-mock: No fallback response defined for \".concat(options && options.method || 'GET', \" to \").concat(url));\n  }\n\n  debug('  Configured to fallbackToNetwork - passing through to fetch');\n  return {\n    response: this.getNativeFetch(),\n    responseIsFetch: true\n  };\n};\n\nFetchMock$1.generateResponse = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(route, url, options, request) {\n    var debug, response;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            debug = getDebug$1('generateResponse()');\n            _context4.next = 3;\n            return resolve(route, url, options, request);\n\n          case 3:\n            response = _context4.sent;\n\n            if (!(response.throws && typeof response !== 'function')) {\n              _context4.next = 7;\n              break;\n            }\n\n            debug('response.throws is defined - throwing an error');\n            throw response.throws;\n\n          case 7:\n            if (!this.config.Response.prototype.isPrototypeOf(response)) {\n              _context4.next = 10;\n              break;\n            }\n\n            debug('response is already a Response instance - returning it');\n            return _context4.abrupt(\"return\", response);\n\n          case 10:\n            return _context4.abrupt(\"return\", responseBuilder({\n              url: url,\n              responseConfig: response,\n              fetchMock: this,\n              route: route\n            }));\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x12, _x13, _x14, _x15) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nFetchMock$1.router = function (url, options, request) {\n  var route = this.routes.find(function (route, i) {\n    debug$1(\"Trying to match route \".concat(i));\n    return route.matcher(url, options, request);\n  });\n\n  if (route) {\n    this.push({\n      url: url,\n      options: options,\n      request: request,\n      identifier: route.identifier\n    });\n    return route;\n  }\n};\n\nFetchMock$1.getNativeFetch = function () {\n  var func = this.realFetch || this.isSandbox && this.config.fetch;\n\n  if (!func) {\n    throw new Error('fetch-mock: Falling back to network only available on global fetch-mock, or by setting config.fetch on sandboxed fetch-mock');\n  }\n\n  return func;\n};\n\nFetchMock$1.push = function (_ref10) {\n  var url = _ref10.url,\n      options = _ref10.options,\n      request = _ref10.request,\n      isUnmatched = _ref10.isUnmatched,\n      identifier = _ref10.identifier;\n  debug$1('Recording fetch call', {\n    url: url,\n    options: options,\n    request: request,\n    isUnmatched: isUnmatched,\n    identifier: identifier\n  });\n  var args = [url, options];\n  args.request = request;\n  args.identifier = identifier;\n  args.isUnmatched = isUnmatched;\n\n  this._calls.push(args);\n};\n\nvar fetchHandler = FetchMock$1;\nvar setDebugPhase$2 = debug_1.setDebugPhase,\n    setDebugNamespace = debug_1.setDebugNamespace,\n    debug$2 = debug_1.debug;\nvar normalizeUrl$1 = requestUtils.normalizeUrl;\nvar FetchMock$2 = {};\n\nvar isName = function isName(nameOrMatcher) {\n  return typeof nameOrMatcher === 'string' && /^[\\da-zA-Z\\-]+$/.test(nameOrMatcher);\n};\n\nvar filterCallsWithMatcher = function filterCallsWithMatcher(matcher) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var calls = arguments.length > 2 ? arguments[2] : undefined;\n  matcher = this.generateMatcher(this.sanitizeRoute(Object.assign({\n    matcher: matcher\n  }, options)));\n  return calls.filter(function (_ref11) {\n    var _ref12 = _slicedToArray(_ref11, 2),\n        url = _ref12[0],\n        options = _ref12[1];\n\n    return matcher(normalizeUrl$1(url), options);\n  });\n};\n\nvar formatDebug = function formatDebug(func) {\n  return function () {\n    setDebugPhase$2('inspect');\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    var result = func.call.apply(func, [this].concat(args));\n    setDebugPhase$2();\n    return result;\n  };\n};\n\nFetchMock$2.filterCalls = function (nameOrMatcher, options) {\n  debug$2('Filtering fetch calls');\n  var calls = this._calls;\n  var matcher = '*';\n\n  if ([true, 'matched'].includes(nameOrMatcher)) {\n    debug$2(\"Filter provided is \".concat(nameOrMatcher, \". Returning matched calls only\"));\n    calls = calls.filter(function (_ref13) {\n      var isUnmatched = _ref13.isUnmatched;\n      return !isUnmatched;\n    });\n  } else if ([false, 'unmatched'].includes(nameOrMatcher)) {\n    debug$2(\"Filter provided is \".concat(nameOrMatcher, \". Returning unmatched calls only\"));\n    calls = calls.filter(function (_ref14) {\n      var isUnmatched = _ref14.isUnmatched;\n      return isUnmatched;\n    });\n  } else if (typeof nameOrMatcher === 'undefined') {\n    debug$2(\"Filter provided is undefined. Returning all calls\");\n    calls = calls;\n  } else if (isName(nameOrMatcher)) {\n    debug$2(\"Filter provided, looks like the name of a named route. Returning only calls handled by that route\");\n    calls = calls.filter(function (_ref15) {\n      var identifier = _ref15.identifier;\n      return identifier === nameOrMatcher;\n    });\n  } else {\n    matcher = normalizeUrl$1(nameOrMatcher);\n\n    if (this.routes.some(function (_ref16) {\n      var identifier = _ref16.identifier;\n      return identifier === matcher;\n    })) {\n      debug$2(\"Filter provided, \".concat(nameOrMatcher, \", identifies a route. Returning only calls handled by that route\"));\n      calls = calls.filter(function (call) {\n        return call.identifier === matcher;\n      });\n    }\n  }\n\n  if ((options || matcher !== '*') && calls.length) {\n    if (typeof options === 'string') {\n      options = {\n        method: options\n      };\n    }\n\n    debug$2('Compiling filter and options to route in order to filter all calls', nameOrMatcher);\n    calls = filterCallsWithMatcher.call(this, matcher, options, calls);\n  }\n\n  debug$2(\"Retrieved \".concat(calls.length, \" calls\"));\n  return calls;\n};\n\nFetchMock$2.calls = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving matching calls');\n  return this.filterCalls(nameOrMatcher, options);\n});\nFetchMock$2.lastCall = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving last matching call');\n  return _toConsumableArray(this.filterCalls(nameOrMatcher, options)).pop();\n});\nFetchMock$2.lastUrl = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving url of last matching call');\n  return (this.lastCall(nameOrMatcher, options) || [])[0];\n});\nFetchMock$2.lastOptions = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving options of last matching call');\n  return (this.lastCall(nameOrMatcher, options) || [])[1];\n});\nFetchMock$2.called = formatDebug(function (nameOrMatcher, options) {\n  debug$2('checking if matching call was made');\n  return Boolean(this.filterCalls(nameOrMatcher, options).length);\n});\nFetchMock$2.flush = formatDebug( /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(waitForResponseMethods) {\n    var queuedPromises;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            setDebugNamespace('flush');\n            debug$2(\"flushing all fetch calls. \".concat(waitForResponseMethods ? '' : 'Not ', \"waiting for response bodies to complete download\"));\n            queuedPromises = this._holdingPromises;\n            this._holdingPromises = [];\n            debug$2(\"\".concat(queuedPromises.length, \" fetch calls to be awaited\"));\n            _context5.next = 7;\n            return Promise.all(queuedPromises);\n\n          case 7:\n            debug$2(\"All fetch calls have completed\");\n\n            if (!(waitForResponseMethods && this._holdingPromises.length)) {\n              _context5.next = 13;\n              break;\n            }\n\n            debug$2(\"Awaiting all fetch bodies to download\");\n            _context5.next = 12;\n            return this.flush(waitForResponseMethods);\n\n          case 12:\n            debug$2(\"All fetch bodies have completed downloading\");\n\n          case 13:\n            setDebugNamespace();\n\n          case 14:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  return function (_x16) {\n    return _ref17.apply(this, arguments);\n  };\n}());\nFetchMock$2.done = formatDebug(function (nameOrMatcher) {\n  var _this6 = this;\n\n  setDebugPhase$2('inspect');\n  setDebugNamespace('done');\n  debug$2('Checking to see if expected calls have been made');\n  var routesToCheck;\n\n  if (nameOrMatcher && typeof nameOrMatcher !== 'boolean') {\n    debug$2('Checking to see if expected calls have been made for single route:', nameOrMatcher);\n    routesToCheck = [{\n      identifier: nameOrMatcher\n    }];\n  } else {\n    debug$2('Checking to see if expected calls have been made for all routes');\n    routesToCheck = this.routes;\n  } // Can't use array.every because would exit after first failure, which would\n  // break the logging\n\n\n  var result = routesToCheck.map(function (_ref18) {\n    var identifier = _ref18.identifier;\n\n    if (!_this6.called(identifier)) {\n      debug$2('No calls made for route:', identifier);\n      console.warn(\"Warning: \".concat(identifier, \" not called\")); // eslint-disable-line\n\n      return false;\n    }\n\n    var expectedTimes = (_this6.routes.find(function (r) {\n      return r.identifier === identifier;\n    }) || {}).repeat;\n\n    if (!expectedTimes) {\n      debug$2('Route has been called at least once, and no expectation of more set:', identifier);\n      return true;\n    }\n\n    var actualTimes = _this6.filterCalls(identifier).length;\n\n    debug$2(\"Route called \".concat(actualTimes, \" times:\"), identifier);\n\n    if (expectedTimes > actualTimes) {\n      debug$2(\"Route called \".concat(actualTimes, \" times, but expected \").concat(expectedTimes, \":\"), identifier);\n      console.warn(\"Warning: \".concat(identifier, \" only called \").concat(actualTimes, \" times, but \").concat(expectedTimes, \" expected\")); // eslint-disable-line\n\n      return false;\n    } else {\n      return true;\n    }\n  }).every(function (isDone) {\n    return isDone;\n  });\n  setDebugNamespace();\n  setDebugPhase$2();\n  return result;\n});\nvar inspecting = FetchMock$2;\n\nvar globToRegexp = function globToRegexp(glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob); // The regexp we are building, as a string.\n\n  var reStr = \"\"; // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n\n  var extended = opts ? !!opts.extended : false; // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n\n  var globstar = opts ? !!opts.globstar : false; // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n\n  var inGroup = false; // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n\n  var flags = opts && typeof opts.flags === \"string\" ? opts.flags : \"\";\n  var c;\n\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n      case \"/\":\n      case \"$\":\n      case \"^\":\n      case \"+\":\n      case \".\":\n      case \"(\":\n      case \")\":\n      case \"=\":\n      case \"!\":\n      case \"|\":\n        reStr += \"\\\\\" + c;\n        break;\n\n      case \"?\":\n        if (extended) {\n          reStr += \".\";\n          break;\n        }\n\n      case \"[\":\n      case \"]\":\n        if (extended) {\n          reStr += c;\n          break;\n        }\n\n      case \"{\":\n        if (extended) {\n          inGroup = true;\n          reStr += \"(\";\n          break;\n        }\n\n      case \"}\":\n        if (extended) {\n          inGroup = false;\n          reStr += \")\";\n          break;\n        }\n\n      case \",\":\n        if (inGroup) {\n          reStr += \"|\";\n          break;\n        }\n\n        reStr += \"\\\\\" + c;\n        break;\n\n      case \"*\":\n        // Move over all consecutive \"*\"'s.\n        // Also store the previous and next characters\n        var prevChar = str[i - 1];\n        var starCount = 1;\n\n        while (str[i + 1] === \"*\") {\n          starCount++;\n          i++;\n        }\n\n        var nextChar = str[i + 1];\n\n        if (!globstar) {\n          // globstar is disabled, so treat any number of \"*\" as one\n          reStr += \".*\";\n        } else {\n          // globstar is enabled, so determine if this is a globstar segment\n          var isGlobstar = starCount > 1 // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined) // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined); // to the end of the segment\n\n          if (isGlobstar) {\n            // it's a globstar, so match zero or more path segments\n            reStr += \"((?:[^/]*(?:\\/|$))*)\";\n            i++; // move over the \"/\"\n          } else {\n            // it's not a globstar, so only match one path segment\n            reStr += \"([^/]*)\";\n          }\n        }\n\n        break;\n\n      default:\n        reStr += c;\n    }\n  } // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n\n\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n/**\n * Expose `pathToRegexp`.\n */\n\n\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse$1;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n/**\n * Default configs.\n */\n\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\n\nvar PATH_REGEXP = new RegExp([// Match escaped characters that would otherwise appear in future matches.\n// This allows the user to escape special characters that won't transform.\n'(\\\\\\\\.)', // Match Express-style parameters and un-named parameters with a prefix\n// and optional suffixes. Matches appear as:\n//\n// \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n// \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n'(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'].join('|'), 'g');\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\n\nfunction parse$1(str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || DEFAULT_DELIMITER;\n  var delimiters = options && options.delimiters || DEFAULT_DELIMITERS;\n  var pathEscaped = false;\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length; // Ignore already escaped sequences.\n\n    if (escaped) {\n      path += escaped[1];\n      pathEscaped = true;\n      continue;\n    }\n\n    var prev = '';\n    var next = str[index];\n    var name = res[2];\n    var capture = res[3];\n    var group = res[4];\n    var modifier = res[5];\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1;\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k];\n        path = path.slice(0, k);\n      }\n    } // Push the current path onto the tokens.\n\n\n    if (path) {\n      tokens.push(path);\n      path = '';\n      pathEscaped = false;\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = prev || defaultDelimiter;\n    var pattern = capture || group;\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    });\n  } // Push any remaining characters.\n\n\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index));\n  }\n\n  return tokens;\n}\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\n\n\nfunction compile(str, options) {\n  return tokensToFunction(parse$1(str, options));\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\n\n\nfunction tokensToFunction(tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length); // Compile all the patterns before compilation.\n\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (data, options) {\n    var path = '';\n    var encode = options && options.encode || encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue;\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var segment;\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array');\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue;\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty');\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"');\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue;\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token);\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"');\n        }\n\n        path += token.prefix + segment;\n        continue;\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix;\n        continue;\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'));\n    }\n\n    return path;\n  };\n}\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\n\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n}\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\n\n\nfunction escapeGroup(group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1');\n}\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\n\n\nfunction flags(options) {\n  return options && options.sensitive ? '' : 'i';\n}\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\n\n\nfunction regexpToRegexp(path, keys) {\n  if (!keys) return path; // Use a negative lookahead to match only capturing groups.\n\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      });\n    }\n  }\n\n  return path;\n}\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\n\n\nfunction arrayToRegexp(path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options));\n}\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\n\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegExp(parse$1(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\n\n\nfunction tokensToRegExp(tokens, keys, options) {\n  options = options || {};\n  var strict = options.strict;\n  var start = options.start !== false;\n  var end = options.end !== false;\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n  var route = start ? '^' : '';\n  var isEndDelimited = tokens.length === 0; // Iterate over the tokens and create our regexp string.\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n    } else {\n      var capture = token.repeat ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*' : token.pattern;\n      if (keys) keys.push(token);\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?';\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?';\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')';\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?';\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')';\n  }\n\n  return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\n\n\nfunction pathToRegexp(path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys);\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(\n    /** @type {!Array} */\n    path, keys, options);\n  }\n\n  return stringToRegexp(\n  /** @type {string} */\n  path, keys, options);\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1; // Copyright Joyent, Inc. and other Node contributors.\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar decode = function decode(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n  var maxKeys = 1000;\n\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length; // maxKeys <= 0 means that we should not limit keys count\n\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr,\n        vstr,\n        k,\n        v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n}; // Copyright Joyent, Inc. and other Node contributors.\n\n\nvar stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar encode = function encode(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar querystring = createCommonjsModule(function (module, exports) {\n  exports.decode = exports.parse = decode;\n  exports.encode = exports.stringify = encode;\n});\nvar querystring_1 = querystring.decode;\nvar querystring_2 = querystring.parse;\nvar querystring_3 = querystring.encode;\nvar querystring_4 = querystring.stringify;\nvar isSubset_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  /**\n   * Check if an object is contained within another object.\n   *\n   * Returns `true` if:\n   * - all enumerable keys of *subset* are also enumerable in *superset*, and\n   * - every value assigned to an enumerable key of *subset* strictly equals\n   *   the value assigned to the same key of *superset* – or is a subset of it.\n   *\n   * @param  {Object}  superset\n   * @param  {Object}  subset\n   *\n   * @returns  {Boolean}\n   *\n   * @module    is-subset\n   * @function  default\n   * @alias     isSubset\n   */\n\n  var isSubset = function (_isSubset) {\n    function isSubset(_x, _x2) {\n      return _isSubset.apply(this, arguments);\n    }\n\n    isSubset.toString = function () {\n      return _isSubset.toString();\n    };\n\n    return isSubset;\n  }(function (superset, subset) {\n    if (typeof superset !== 'object' || superset === null || typeof subset !== 'object' || subset === null) return false;\n    return Object.keys(subset).every(function (key) {\n      if (!superset.propertyIsEnumerable(key)) return false;\n      var subsetItem = subset[key];\n      var supersetItem = superset[key];\n      if (typeof subsetItem === 'object' && subsetItem !== null ? !isSubset(supersetItem, subsetItem) : supersetItem !== subsetItem) return false;\n      return true;\n    });\n  });\n\n  exports['default'] = isSubset;\n  module.exports = exports['default'];\n});\nunwrapExports(isSubset_1);\nvar lodash_isequal = createCommonjsModule(function (module, exports) {\n  /**\n   * Lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright JS Foundation and other contributors <https://js.foundation/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n  /** Used to stand-in for `undefined` hash values. */\n\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n  /** Used to compose bitmasks for value comparisons. */\n\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n  /** Used as references for various `Number` constants. */\n\n  var MAX_SAFE_INTEGER = 9007199254740991;\n  /** `Object#toString` result references. */\n\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  /** Used to detect host constructors (Safari). */\n\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n  /** Used to detect unsigned integer values. */\n\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n  /** Used to identify `toStringTag` values of typed arrays. */\n\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n  /** Detect free variable `global` from Node.js. */\n\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n  /** Detect free variable `self`. */\n\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n  /** Used as a reference to the global object. */\n\n  var root = freeGlobal || freeSelf || Function('return this')();\n  /** Detect free variable `exports`. */\n\n  var freeExports = exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Detect free variable `process` from Node.js. */\n\n  var freeProcess = moduleExports && freeGlobal.process;\n  /** Used to access faster Node.js helpers. */\n\n  var nodeUtil = function () {\n    try {\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  /* Node.js helper references. */\n\n\n  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n\n\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n\n\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n\n\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n\n\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n\n\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n    map.forEach(function (value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n\n\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n\n\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n  /** Used for built-in method references. */\n\n\n  var arrayProto = Array.prototype,\n      funcProto = Function.prototype,\n      objectProto = Object.prototype;\n  /** Used to detect overreaching core-js shims. */\n\n  var coreJsData = root['__core-js_shared__'];\n  /** Used to resolve the decompiled source of functions. */\n\n  var funcToString = funcProto.toString;\n  /** Used to check objects for own properties. */\n\n  var hasOwnProperty = objectProto.hasOwnProperty;\n  /** Used to detect methods masquerading as native. */\n\n  var maskSrcKey = function () {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? 'Symbol(src)_1.' + uid : '';\n  }();\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n\n\n  var nativeObjectToString = objectProto.toString;\n  /** Used to detect if a method is native. */\n\n  var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  /** Built-in value references. */\n\n  var Buffer = moduleExports ? root.Buffer : undefined,\n      Symbol = root.Symbol,\n      Uint8Array = root.Uint8Array,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      splice = arrayProto.splice,\n      symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n\n  var nativeGetSymbols = Object.getOwnPropertySymbols,\n      nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n      nativeKeys = overArg(Object.keys, Object);\n  /* Built-in method references that are verified to be native. */\n\n  var DataView = getNative(root, 'DataView'),\n      Map = getNative(root, 'Map'),\n      Promise = getNative(root, 'Promise'),\n      Set = getNative(root, 'Set'),\n      WeakMap = getNative(root, 'WeakMap'),\n      nativeCreate = getNative(Object, 'create');\n  /** Used to detect maps, sets, and weakmaps. */\n\n  var dataViewCtorString = toSource(DataView),\n      mapCtorString = toSource(Map),\n      promiseCtorString = toSource(Promise),\n      setCtorString = toSource(Set),\n      weakMapCtorString = toSource(WeakMap);\n  /** Used to convert symbols to primitives and strings. */\n\n  var symbolProto = Symbol ? Symbol.prototype : undefined,\n      symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function Hash(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n\n\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n    this.size = 0;\n  }\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function hashDelete(key) {\n    var result = this.has(key) && delete this.__data__[key];\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function hashGet(key) {\n    var data = this.__data__;\n\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n  }\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n\n\n  function hashSet(key, value) {\n    var data = this.__data__;\n    this.size += this.has(key) ? 0 : 1;\n    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n    return this;\n  } // Add methods to `Hash`.\n\n\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function ListCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n\n\n  function listCacheClear() {\n    this.__data__ = [];\n    this.size = 0;\n  }\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function listCacheDelete(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      return false;\n    }\n\n    var lastIndex = data.length - 1;\n\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n\n    --this.size;\n    return true;\n  }\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function listCacheGet(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n  }\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n\n\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      ++this.size;\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n\n    return this;\n  } // Add methods to `ListCache`.\n\n\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function MapCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n\n\n  function mapCacheClear() {\n    this.size = 0;\n    this.__data__ = {\n      'hash': new Hash(),\n      'map': new (Map || ListCache)(),\n      'string': new Hash()\n    };\n  }\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function mapCacheDelete(key) {\n    var result = getMapData(this, key)['delete'](key);\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n\n\n  function mapCacheSet(key, value) {\n    var data = getMapData(this, key),\n        size = data.size;\n    data.set(key, value);\n    this.size += data.size == size ? 0 : 1;\n    return this;\n  } // Add methods to `MapCache`.\n\n\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n  /**\n   *\n   * Creates an array cache object to store unique values.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [values] The values to cache.\n   */\n\n  function SetCache(values) {\n    var index = -1,\n        length = values == null ? 0 : values.length;\n    this.__data__ = new MapCache();\n\n    while (++index < length) {\n      this.add(values[index]);\n    }\n  }\n  /**\n   * Adds `value` to the array cache.\n   *\n   * @private\n   * @name add\n   * @memberOf SetCache\n   * @alias push\n   * @param {*} value The value to cache.\n   * @returns {Object} Returns the cache instance.\n   */\n\n\n  function setCacheAdd(value) {\n    this.__data__.set(value, HASH_UNDEFINED);\n\n    return this;\n  }\n  /**\n   * Checks if `value` is in the array cache.\n   *\n   * @private\n   * @name has\n   * @memberOf SetCache\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `true` if `value` is found, else `false`.\n   */\n\n\n  function setCacheHas(value) {\n    return this.__data__.has(value);\n  } // Add methods to `SetCache`.\n\n\n  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n  SetCache.prototype.has = setCacheHas;\n  /**\n   * Creates a stack cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function Stack(entries) {\n    var data = this.__data__ = new ListCache(entries);\n    this.size = data.size;\n  }\n  /**\n   * Removes all key-value entries from the stack.\n   *\n   * @private\n   * @name clear\n   * @memberOf Stack\n   */\n\n\n  function stackClear() {\n    this.__data__ = new ListCache();\n    this.size = 0;\n  }\n  /**\n   * Removes `key` and its value from the stack.\n   *\n   * @private\n   * @name delete\n   * @memberOf Stack\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function stackDelete(key) {\n    var data = this.__data__,\n        result = data['delete'](key);\n    this.size = data.size;\n    return result;\n  }\n  /**\n   * Gets the stack value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Stack\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n  /**\n   * Checks if a stack value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Stack\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n  /**\n   * Sets the stack `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Stack\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the stack cache instance.\n   */\n\n\n  function stackSet(key, value) {\n    var data = this.__data__;\n\n    if (data instanceof ListCache) {\n      var pairs = data.__data__;\n\n      if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n        pairs.push([key, value]);\n        this.size = ++data.size;\n        return this;\n      }\n\n      data = this.__data__ = new MapCache(pairs);\n    }\n\n    data.set(key, value);\n    this.size = data.size;\n    return this;\n  } // Add methods to `Stack`.\n\n\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n\n  function arrayLikeKeys(value, inherited) {\n    var isArr = isArray(value),\n        isArg = !isArr && isArguments(value),\n        isBuff = !isArr && !isArg && isBuffer(value),\n        isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n        skipIndexes = isArr || isArg || isBuff || isType,\n        result = skipIndexes ? baseTimes(value.length, String) : [],\n        length = result.length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && ( // Safari 9 has enumerable `arguments.length` in strict mode.\n      key == 'length' || // Node.js 0.10 has enumerable non-index properties on buffers.\n      isBuff && (key == 'offset' || key == 'parent') || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n      isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || // Skip index properties.\n      isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function assocIndexOf(array, key) {\n    var length = array.length;\n\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n   * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n   * symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @param {Function} symbolsFunc The function to get the symbols of `object`.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n\n\n  function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n    var result = keysFunc(object);\n    return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n  }\n  /**\n   * The base implementation of `getTag` without fallbacks for buggy environments.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n\n\n  function baseGetTag(value) {\n    if (value == null) {\n      return value === undefined ? undefinedTag : nullTag;\n    }\n\n    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n  }\n  /**\n   * The base implementation of `_.isArguments`.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   */\n\n\n  function baseIsArguments(value) {\n    return isObjectLike(value) && baseGetTag(value) == argsTag;\n  }\n  /**\n   * The base implementation of `_.isEqual` which supports partial comparisons\n   * and tracks traversed objects.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @param {boolean} bitmask The bitmask flags.\n   *  1 - Unordered comparison\n   *  2 - Partial comparison\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n\n\n  function baseIsEqual(value, other, bitmask, customizer, stack) {\n    if (value === other) {\n      return true;\n    }\n\n    if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n      return value !== value && other !== other;\n    }\n\n    return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n  }\n  /**\n   * A specialized version of `baseIsEqual` for arrays and objects which performs\n   * deep comparisons and tracks traversed objects enabling objects with circular\n   * references to be compared.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n    var objIsArr = isArray(object),\n        othIsArr = isArray(other),\n        objTag = objIsArr ? arrayTag : getTag(object),\n        othTag = othIsArr ? arrayTag : getTag(other);\n    objTag = objTag == argsTag ? objectTag : objTag;\n    othTag = othTag == argsTag ? objectTag : othTag;\n    var objIsObj = objTag == objectTag,\n        othIsObj = othTag == objectTag,\n        isSameTag = objTag == othTag;\n\n    if (isSameTag && isBuffer(object)) {\n      if (!isBuffer(other)) {\n        return false;\n      }\n\n      objIsArr = true;\n      objIsObj = false;\n    }\n\n    if (isSameTag && !objIsObj) {\n      stack || (stack = new Stack());\n      return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n    }\n\n    if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n      var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n          othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n      if (objIsWrapped || othIsWrapped) {\n        var objUnwrapped = objIsWrapped ? object.value() : object,\n            othUnwrapped = othIsWrapped ? other.value() : other;\n        stack || (stack = new Stack());\n        return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n      }\n    }\n\n    if (!isSameTag) {\n      return false;\n    }\n\n    stack || (stack = new Stack());\n    return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n  }\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n\n\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n\n    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n  /**\n   * The base implementation of `_.isTypedArray` without Node.js optimizations.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   */\n\n\n  function baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n  }\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n\n\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n\n    var result = [];\n\n    for (var key in Object(object)) {\n      if (hasOwnProperty.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n\n    return result;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for arrays with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Array} array The array to compare.\n   * @param {Array} other The other array to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `array` and `other` objects.\n   * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n   */\n\n\n  function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n        arrLength = array.length,\n        othLength = other.length;\n\n    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n      return false;\n    } // Assume cyclic values are equal.\n\n\n    var stacked = stack.get(array);\n\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n\n    var index = -1,\n        result = true,\n        seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n    stack.set(array, other);\n    stack.set(other, array); // Ignore non-index properties.\n\n    while (++index < arrLength) {\n      var arrValue = array[index],\n          othValue = other[index];\n\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n      }\n\n      if (compared !== undefined) {\n        if (compared) {\n          continue;\n        }\n\n        result = false;\n        break;\n      } // Recursively compare arrays (susceptible to call stack limits).\n\n\n      if (seen) {\n        if (!arraySome(other, function (othValue, othIndex) {\n          if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n            return seen.push(othIndex);\n          }\n        })) {\n          result = false;\n          break;\n        }\n      } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n        result = false;\n        break;\n      }\n    }\n\n    stack['delete'](array);\n    stack['delete'](other);\n    return result;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for comparing objects of\n   * the same `toStringTag`.\n   *\n   * **Note:** This function only supports comparing values with tags of\n   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {string} tag The `toStringTag` of the objects to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n    switch (tag) {\n      case dataViewTag:\n        if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n          return false;\n        }\n\n        object = object.buffer;\n        other = other.buffer;\n\n      case arrayBufferTag:\n        if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n          return false;\n        }\n\n        return true;\n\n      case boolTag:\n      case dateTag:\n      case numberTag:\n        // Coerce booleans to `1` or `0` and dates to milliseconds.\n        // Invalid dates are coerced to `NaN`.\n        return eq(+object, +other);\n\n      case errorTag:\n        return object.name == other.name && object.message == other.message;\n\n      case regexpTag:\n      case stringTag:\n        // Coerce regexes to strings and treat strings, primitives and objects,\n        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n        // for more details.\n        return object == other + '';\n\n      case mapTag:\n        var convert = mapToArray;\n\n      case setTag:\n        var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n        convert || (convert = setToArray);\n\n        if (object.size != other.size && !isPartial) {\n          return false;\n        } // Assume cyclic values are equal.\n\n\n        var stacked = stack.get(object);\n\n        if (stacked) {\n          return stacked == other;\n        }\n\n        bitmask |= COMPARE_UNORDERED_FLAG; // Recursively compare objects (susceptible to call stack limits).\n\n        stack.set(object, other);\n        var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n        stack['delete'](object);\n        return result;\n\n      case symbolTag:\n        if (symbolValueOf) {\n          return symbolValueOf.call(object) == symbolValueOf.call(other);\n        }\n\n    }\n\n    return false;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for objects with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n        objProps = getAllKeys(object),\n        objLength = objProps.length,\n        othProps = getAllKeys(other),\n        othLength = othProps.length;\n\n    if (objLength != othLength && !isPartial) {\n      return false;\n    }\n\n    var index = objLength;\n\n    while (index--) {\n      var key = objProps[index];\n\n      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n        return false;\n      }\n    } // Assume cyclic values are equal.\n\n\n    var stacked = stack.get(object);\n\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n\n    var result = true;\n    stack.set(object, other);\n    stack.set(other, object);\n    var skipCtor = isPartial;\n\n    while (++index < objLength) {\n      key = objProps[index];\n      var objValue = object[key],\n          othValue = other[key];\n\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n      } // Recursively compare objects (susceptible to call stack limits).\n\n\n      if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n        result = false;\n        break;\n      }\n\n      skipCtor || (skipCtor = key == 'constructor');\n    }\n\n    if (result && !skipCtor) {\n      var objCtor = object.constructor,\n          othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n      if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n        result = false;\n      }\n    }\n\n    stack['delete'](object);\n    stack['delete'](other);\n    return result;\n  }\n  /**\n   * Creates an array of own enumerable property names and symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n\n\n  function getAllKeys(object) {\n    return baseGetAllKeys(object, keys, getSymbols);\n  }\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n\n\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n  }\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n\n\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n  /**\n   * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the raw `toStringTag`.\n   */\n\n\n  function getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag),\n        tag = value[symToStringTag];\n\n    try {\n      value[symToStringTag] = undefined;\n      var unmasked = true;\n    } catch (e) {}\n\n    var result = nativeObjectToString.call(value);\n\n    if (unmasked) {\n      if (isOwn) {\n        value[symToStringTag] = tag;\n      } else {\n        delete value[symToStringTag];\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Creates an array of the own enumerable symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of symbols.\n   */\n\n\n  var getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n    if (object == null) {\n      return [];\n    }\n\n    object = Object(object);\n    return arrayFilter(nativeGetSymbols(object), function (symbol) {\n      return propertyIsEnumerable.call(object, symbol);\n    });\n  };\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n\n  var getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\n  if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n    getTag = function getTag(value) {\n      var result = baseGetTag(value),\n          Ctor = result == objectTag ? value.constructor : undefined,\n          ctorString = Ctor ? toSource(Ctor) : '';\n\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString:\n            return dataViewTag;\n\n          case mapCtorString:\n            return mapTag;\n\n          case promiseCtorString:\n            return promiseTag;\n\n          case setCtorString:\n            return setTag;\n\n          case weakMapCtorString:\n            return weakMapTag;\n        }\n      }\n\n      return result;\n    };\n  }\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n\n\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n  }\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n\n\n  function isKeyable(value) {\n    var type = typeof value;\n    return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n  }\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n\n\n  function isMasked(func) {\n    return !!maskSrcKey && maskSrcKey in func;\n  }\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n\n\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n        proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n    return value === proto;\n  }\n  /**\n   * Converts `value` to a string using `Object.prototype.toString`.\n   *\n   * @private\n   * @param {*} value The value to convert.\n   * @returns {string} Returns the converted string.\n   */\n\n\n  function objectToString(value) {\n    return nativeObjectToString.call(value);\n  }\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to convert.\n   * @returns {string} Returns the source code.\n   */\n\n\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n\n      try {\n        return func + '';\n      } catch (e) {}\n    }\n\n    return '';\n  }\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n\n\n  function eq(value, other) {\n    return value === other || value !== value && other !== other;\n  }\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n\n\n  var isArguments = baseIsArguments(function () {\n    return arguments;\n  }()) ? baseIsArguments : function (value) {\n    return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n  };\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n\n  var isArray = Array.isArray;\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n  /**\n   * Checks if `value` is a buffer.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.3.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n   * @example\n   *\n   * _.isBuffer(new Buffer(2));\n   * // => true\n   *\n   * _.isBuffer(new Uint8Array(2));\n   * // => false\n   */\n\n\n  var isBuffer = nativeIsBuffer || stubFalse;\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent.\n   *\n   * **Note:** This method supports comparing arrays, array buffers, booleans,\n   * date objects, error objects, maps, numbers, `Object` objects, regexes,\n   * sets, strings, symbols, and typed arrays. `Object` objects are compared\n   * by their own, not inherited, enumerable properties. Functions and DOM\n   * nodes are compared by strict equality, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.isEqual(object, other);\n   * // => true\n   *\n   * object === other;\n   * // => false\n   */\n\n  function isEqual(value, other) {\n    return baseIsEqual(value, other);\n  }\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n\n\n  function isFunction(value) {\n    if (!isObject(value)) {\n      return false;\n    } // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n    var tag = baseGetTag(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n  }\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n\n\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n\n\n  function isObject(value) {\n    var type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n  }\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n\n\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n\n\n  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n  /**\n   * This method returns a new empty array.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {Array} Returns the new empty array.\n   * @example\n   *\n   * var arrays = _.times(2, _.stubArray);\n   *\n   * console.log(arrays);\n   * // => [[], []]\n   *\n   * console.log(arrays[0] === arrays[1]);\n   * // => false\n   */\n\n\n  function stubArray() {\n    return [];\n  }\n  /**\n   * This method returns `false`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {boolean} Returns `false`.\n   * @example\n   *\n   * _.times(2, _.stubFalse);\n   * // => [false, false]\n   */\n\n\n  function stubFalse() {\n    return false;\n  }\n\n  module.exports = isEqual;\n});\nvar debug$3 = debug_1.debug;\nvar headerUtils = requestUtils.headers,\n    getPath = requestUtils.getPath,\n    getQuery = requestUtils.getQuery,\n    normalizeUrl$2 = requestUtils.normalizeUrl;\n\nvar debuggableUrlFunc = function debuggableUrlFunc(func) {\n  return function (url) {\n    debug$3('Actual url:', url);\n    return func(url);\n  };\n};\n\nvar stringMatchers = {\n  begin: function begin(targetString) {\n    return debuggableUrlFunc(function (url) {\n      return url.indexOf(targetString) === 0;\n    });\n  },\n  end: function end(targetString) {\n    return debuggableUrlFunc(function (url) {\n      return url.substr(-targetString.length) === targetString;\n    });\n  },\n  glob: function glob(targetString) {\n    var urlRX = globToRegexp(targetString);\n    return debuggableUrlFunc(function (url) {\n      return urlRX.test(url);\n    });\n  },\n  express: function express(targetString) {\n    var urlRX = pathToRegexp_1(targetString);\n    return debuggableUrlFunc(function (url) {\n      return urlRX.test(getPath(url));\n    });\n  },\n  path: function path(targetString) {\n    return debuggableUrlFunc(function (url) {\n      return getPath(url) === targetString;\n    });\n  }\n};\n\nvar getHeaderMatcher = function getHeaderMatcher(_ref19) {\n  var expectedHeaders = _ref19.headers;\n  debug$3('Generating header matcher');\n\n  if (!expectedHeaders) {\n    debug$3('  No header expectations defined - skipping');\n    return;\n  }\n\n  var expectation = headerUtils.toLowerCase(expectedHeaders);\n  debug$3('  Expected headers:', expectation);\n  return function (url, _ref20) {\n    var _ref20$headers = _ref20.headers,\n        headers = _ref20$headers === void 0 ? {} : _ref20$headers;\n    debug$3('Attempting to match headers');\n    var lowerCaseHeaders = headerUtils.toLowerCase(headerUtils.normalize(headers));\n    debug$3('  Expected headers:', expectation);\n    debug$3('  Actual headers:', lowerCaseHeaders);\n    return Object.keys(expectation).every(function (headerName) {\n      return headerUtils.equal(lowerCaseHeaders[headerName], expectation[headerName]);\n    });\n  };\n};\n\nvar getMethodMatcher = function getMethodMatcher(_ref21) {\n  var expectedMethod = _ref21.method;\n  debug$3('Generating method matcher');\n\n  if (!expectedMethod) {\n    debug$3('  No method expectations defined - skipping');\n    return;\n  }\n\n  debug$3('  Expected method:', expectedMethod);\n  return function (url, _ref22) {\n    var method = _ref22.method;\n    debug$3('Attempting to match method');\n    var actualMethod = method ? method.toLowerCase() : 'get';\n    debug$3('  Expected method:', expectedMethod);\n    debug$3('  Actual method:', actualMethod);\n    return expectedMethod === actualMethod;\n  };\n};\n\nvar getQueryStringMatcher = function getQueryStringMatcher(_ref23) {\n  var expectedQuery = _ref23.query;\n  debug$3('Generating query parameters matcher');\n\n  if (!expectedQuery) {\n    debug$3('  No query parameters expectations defined - skipping');\n    return;\n  }\n\n  debug$3('  Expected query parameters:', expectedQuery);\n  var keys = Object.keys(expectedQuery);\n  return function (url) {\n    debug$3('Attempting to match query parameters');\n    var query = querystring.parse(getQuery(url));\n    debug$3('  Expected query parameters:', expectedQuery);\n    debug$3('  Actual query parameters:', query);\n    return keys.every(function (key) {\n      return query[key] === expectedQuery[key];\n    });\n  };\n};\n\nvar getParamsMatcher = function getParamsMatcher(_ref24) {\n  var expectedParams = _ref24.params,\n      matcherUrl = _ref24.url;\n  debug$3('Generating path parameters matcher');\n\n  if (!expectedParams) {\n    debug$3('  No path parameters expectations defined - skipping');\n    return;\n  }\n\n  if (!/express:/.test(matcherUrl)) {\n    throw new Error('fetch-mock: matching on params is only possible when using an express: matcher');\n  }\n\n  debug$3('  Expected path parameters:', expectedParams);\n  var expectedKeys = Object.keys(expectedParams);\n  var keys = [];\n  var re = pathToRegexp_1(matcherUrl.replace(/^express:/, ''), keys);\n  return function (url) {\n    debug$3('Attempting to match path parameters');\n    var vals = re.exec(getPath(url)) || [];\n    vals.shift();\n    var params = keys.reduce(function (map, _ref25, i) {\n      var name = _ref25.name;\n      return vals[i] ? Object.assign(map, _defineProperty({}, name, vals[i])) : map;\n    }, {});\n    debug$3('  Expected path parameters:', expectedParams);\n    debug$3('  Actual path parameters:', params);\n    return expectedKeys.every(function (key) {\n      return params[key] === expectedParams[key];\n    });\n  };\n};\n\nvar getBodyMatcher = function getBodyMatcher(route, fetchMock) {\n  var matchPartialBody = fetchMock.getOption('matchPartialBody', route);\n  var expectedBody = route.body;\n  debug$3('Generating body matcher');\n  return function (url, _ref26) {\n    var body = _ref26.body,\n        _ref26$method = _ref26.method,\n        method = _ref26$method === void 0 ? 'get' : _ref26$method;\n    debug$3('Attempting to match body');\n\n    if (method.toLowerCase() === 'get') {\n      debug$3('  GET request - skip matching body'); // GET requests don’t send a body so the body matcher should be ignored for them\n\n      return true;\n    }\n\n    var sentBody;\n\n    try {\n      debug$3('  Parsing request body as JSON');\n      sentBody = JSON.parse(body);\n    } catch (err) {\n      debug$3('  Failed to parse request body as JSON', err);\n    }\n\n    debug$3('Expected body:', expectedBody);\n    debug$3('Actual body:', sentBody);\n\n    if (matchPartialBody) {\n      debug$3('matchPartialBody is true - checking for partial match only');\n    }\n\n    return sentBody && (matchPartialBody ? isSubset_1(sentBody, expectedBody) : lodash_isequal(sentBody, expectedBody));\n  };\n};\n\nvar getFullUrlMatcher = function getFullUrlMatcher(route, matcherUrl, query) {\n  // if none of the special syntaxes apply, it's just a simple string match\n  // but we have to be careful to normalize the url we check and the name\n  // of the route to allow for e.g. http://it.at.there being indistinguishable\n  // from http://it.at.there/ once we start generating Request/Url objects\n  debug$3('  Matching using full url', matcherUrl);\n  var expectedUrl = normalizeUrl$2(matcherUrl);\n  debug$3('  Normalised url to:', matcherUrl);\n\n  if (route.identifier === matcherUrl) {\n    debug$3('  Updating route identifier to match normalized url:', matcherUrl);\n    route.identifier = expectedUrl;\n  }\n\n  return function (matcherUrl) {\n    debug$3('Expected url:', expectedUrl);\n    debug$3('Actual url:', matcherUrl);\n\n    if (query && expectedUrl.indexOf('?')) {\n      debug$3('Ignoring query string when matching url');\n      return matcherUrl.indexOf(expectedUrl) === 0;\n    }\n\n    return normalizeUrl$2(matcherUrl) === expectedUrl;\n  };\n};\n\nvar getFunctionMatcher = function getFunctionMatcher(_ref27) {\n  var functionMatcher = _ref27.functionMatcher;\n  debug$3('Detected user defined function matcher', functionMatcher);\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    debug$3('Calling function matcher with arguments', args);\n    return functionMatcher.apply(void 0, args);\n  };\n};\n\nvar getUrlMatcher = function getUrlMatcher(route) {\n  debug$3('Generating url matcher');\n  var matcherUrl = route.url,\n      query = route.query;\n\n  if (matcherUrl === '*') {\n    debug$3('  Using universal * rule to match any url');\n    return function () {\n      return true;\n    };\n  }\n\n  if (matcherUrl instanceof RegExp) {\n    debug$3('  Using regular expression to match url:', matcherUrl);\n    return function (url) {\n      return matcherUrl.test(url);\n    };\n  }\n\n  if (matcherUrl.href) {\n    debug$3(\"  Using URL object to match url\", matcherUrl);\n    return getFullUrlMatcher(route, matcherUrl.href, query);\n  }\n\n  for (var shorthand in stringMatchers) {\n    if (matcherUrl.indexOf(shorthand + ':') === 0) {\n      debug$3(\"  Using \".concat(shorthand, \": pattern to match url\"), matcherUrl);\n      var urlFragment = matcherUrl.replace(new RegExp(\"^\".concat(shorthand, \":\")), '');\n      return stringMatchers[shorthand](urlFragment);\n    }\n  }\n\n  return getFullUrlMatcher(route, matcherUrl, query);\n};\n\nvar FetchMock$3 = {};\nFetchMock$3._matchers = [];\n\nFetchMock$3.addMatcher = function (matcher) {\n  this._matchers.push(matcher);\n};\n\nFetchMock$3.addMatcher({\n  name: 'query',\n  matcher: getQueryStringMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'method',\n  matcher: getMethodMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'headers',\n  matcher: getHeaderMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'params',\n  matcher: getParamsMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'body',\n  matcher: getBodyMatcher,\n  usesBody: true\n});\nFetchMock$3.addMatcher({\n  name: 'functionMatcher',\n  matcher: getFunctionMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'url',\n  matcher: getUrlMatcher\n});\nvar matchers = FetchMock$3;\nvar debug$4 = debug_1.debug,\n    setDebugNamespace$1 = debug_1.setDebugNamespace,\n    getDebug$2 = debug_1.getDebug;\n\nvar isUrlMatcher = function isUrlMatcher(matcher) {\n  return matcher instanceof RegExp || typeof matcher === 'string' || typeof matcher === 'object' && 'href' in matcher;\n};\n\nvar isFunctionMatcher = function isFunctionMatcher(matcher) {\n  return typeof matcher === 'function';\n};\n\nvar argsToRoute = function argsToRoute(args) {\n  var _args6 = _slicedToArray(args, 3),\n      matcher = _args6[0],\n      response = _args6[1],\n      _args6$ = _args6[2],\n      options = _args6$ === void 0 ? {} : _args6$;\n\n  var routeConfig = {};\n\n  if (isUrlMatcher(matcher) || isFunctionMatcher(matcher)) {\n    routeConfig.matcher = matcher;\n  } else {\n    Object.assign(routeConfig, matcher);\n  }\n\n  if (typeof response !== 'undefined') {\n    routeConfig.response = response;\n  }\n\n  Object.assign(routeConfig, options);\n  return routeConfig;\n};\n\nvar sanitizeRoute = function sanitizeRoute(route) {\n  var debug = getDebug$2('sanitizeRoute()');\n  debug('Sanitizing route properties');\n  route = Object.assign({}, route);\n\n  if (route.method) {\n    debug(\"Converting method \".concat(route.method, \" to lower case\"));\n    route.method = route.method.toLowerCase();\n  }\n\n  if (isUrlMatcher(route.matcher)) {\n    debug('Mock uses a url matcher', route.matcher);\n    route.url = route.matcher;\n    delete route.matcher;\n  }\n\n  route.functionMatcher = route.matcher || route.functionMatcher;\n  debug('Setting route.identifier...');\n  debug(\"  route.name is \".concat(route.name));\n  debug(\"  route.url is \".concat(route.url));\n  debug(\"  route.functionMatcher is \".concat(route.functionMatcher));\n  route.identifier = route.name || route.url || route.functionMatcher;\n  debug(\"  -> route.identifier set to \".concat(route.identifier));\n  return route;\n};\n\nvar validateRoute = function validateRoute(route) {\n  if (!('response' in route)) {\n    throw new Error('fetch-mock: Each route must define a response');\n  }\n\n  if (!this._matchers.some(function (_ref28) {\n    var name = _ref28.name;\n    return name in route;\n  })) {\n    throw new Error(\"fetch-mock: Each route must specify some criteria for matching calls to fetch. To match all calls use '*'\");\n  }\n};\n\nvar limit = function limit(route) {\n  var debug = getDebug$2('limit()');\n  debug('Limiting number of requests to handle by route');\n\n  if (!route.repeat) {\n    debug('  No `repeat` value set on route. Will match any number of requests');\n    return;\n  }\n\n  debug(\"  Route set to repeat \".concat(route.repeat, \" times\"));\n  var matcher = route.matcher;\n  var timesLeft = route.repeat;\n\n  route.matcher = function (url, options) {\n    var match = timesLeft && matcher(url, options);\n\n    if (match) {\n      timesLeft--;\n      return true;\n    }\n  };\n\n  route.reset = function () {\n    return timesLeft = route.repeat;\n  };\n};\n\nvar delayResponse = function delayResponse(route) {\n  var debug = getDebug$2('delayResponse()');\n  debug(\"Applying response delay settings\");\n  var delay = route.delay;\n\n  if (delay) {\n    debug(\"  Wrapping response in delay of \".concat(delay, \" miliseconds\"));\n    var response = route.response;\n\n    route.response = function () {\n      debug(\"Delaying response by \".concat(delay, \" miliseconds\"));\n      return new Promise(function (res) {\n        return setTimeout(function () {\n          return res(response);\n        }, delay);\n      });\n    };\n  } else {\n    debug(\"  No delay set on route. Will respond 'immediately' (but asynchronously)\");\n  }\n};\n\nvar generateMatcher = function generateMatcher(route) {\n  var _this7 = this;\n\n  setDebugNamespace$1('generateMatcher()');\n  debug$4('Compiling matcher for route');\n\n  var matchers = this._matchers.map(function (_ref29) {\n    var name = _ref29.name,\n        matcher = _ref29.matcher,\n        usesBody = _ref29.usesBody;\n    return route[name] && {\n      matcher: matcher(route, _this7),\n      usesBody: usesBody\n    };\n  }).filter(function (matcher) {\n    return Boolean(matcher);\n  });\n\n  route.usesBody = matchers.some(function (_ref30) {\n    var usesBody = _ref30.usesBody;\n    return usesBody;\n  });\n  debug$4('Compiled matcher for route');\n  setDebugNamespace$1();\n  return function (url) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var request = arguments.length > 2 ? arguments[2] : undefined;\n    return matchers.every(function (_ref31) {\n      var matcher = _ref31.matcher;\n      return matcher(url, options, request);\n    });\n  };\n};\n\nvar compileRoute = function compileRoute(args) {\n  var debug = getDebug$2('compileRoute()');\n  debug('Compiling route');\n  var route = sanitizeRoute(argsToRoute(args));\n  this.validateRoute(route);\n  route.matcher = this.generateMatcher(route);\n  limit(route);\n  delayResponse(route);\n  return route;\n};\n\nvar compileRoute_1 = {\n  compileRoute: compileRoute,\n  sanitizeRoute: sanitizeRoute,\n  generateMatcher: generateMatcher,\n  validateRoute: validateRoute\n};\nvar debug$5 = debug_1.debug;\nvar FetchMock$4 = Object.assign({}, fetchHandler, setUpAndTearDown, inspecting, compileRoute_1, matchers);\nFetchMock$4.config = {\n  fallbackToNetwork: false,\n  includeContentLength: true,\n  sendAsJson: true,\n  warnOnFallback: true,\n  overwriteRoutes: undefined\n};\n\nFetchMock$4.createInstance = function () {\n  debug$5('Creating fetch-mock instance');\n  var instance = Object.create(FetchMock$4);\n  instance._uncompiledRoutes = (this._uncompiledRoutes || []).slice();\n  instance._matchers = this._matchers.slice();\n  instance.routes = instance._uncompiledRoutes.map(function (config) {\n    return instance.compileRoute(config);\n  });\n  instance.fallbackResponse = this.fallbackResponse || undefined;\n  instance.config = Object.assign({}, this.config || FetchMock$4.config);\n  instance._calls = [];\n  instance._holdingPromises = [];\n  instance.bindMethods();\n  return instance;\n};\n\nFetchMock$4.bindMethods = function () {\n  this.fetchHandler = FetchMock$4.fetchHandler.bind(this);\n  this.reset = this.restore = FetchMock$4.reset.bind(this);\n  this.resetHistory = FetchMock$4.resetHistory.bind(this);\n  this.resetBehavior = FetchMock$4.resetBehavior.bind(this);\n};\n\nFetchMock$4.sandbox = function () {\n  debug$5('Creating sandboxed fetch-mock instance'); // this construct allows us to create a fetch-mock instance which is also\n  // a callable function, while circumventing circularity when defining the\n  // object that this function should be bound to\n\n  var fetchMockProxy = function fetchMockProxy(url, options) {\n    return sandbox.fetchHandler(url, options);\n  };\n\n  var sandbox = Object.assign(fetchMockProxy, // Ensures that the entire returned object is a callable function\n  FetchMock$4, // prototype methods\n  this.createInstance(), // instance data\n  {\n    Headers: this.config.Headers,\n    Request: this.config.Request,\n    Response: this.config.Response\n  });\n  sandbox.bindMethods();\n  sandbox.isSandbox = true;\n  sandbox.default = sandbox;\n  return sandbox;\n};\n\nFetchMock$4.getOption = function (name) {\n  var route = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return name in route ? route[name] : this.config[name];\n};\n\nvar lib = FetchMock$4;\nvar statusTextMap = {\n  '100': 'Continue',\n  '101': 'Switching Protocols',\n  '102': 'Processing',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '207': 'Multi-Status',\n  '208': 'Already Reported',\n  '226': 'IM Used',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '307': 'Temporary Redirect',\n  '308': 'Permanent Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Failed',\n  '413': 'Payload Too Large',\n  '414': 'URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': \"I'm a teapot\",\n  '421': 'Misdirected Request',\n  '422': 'Unprocessable Entity',\n  '423': 'Locked',\n  '424': 'Failed Dependency',\n  '425': 'Unordered Collection',\n  '426': 'Upgrade Required',\n  '428': 'Precondition Required',\n  '429': 'Too Many Requests',\n  '431': 'Request Header Fields Too Large',\n  '451': 'Unavailable For Legal Reasons',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported',\n  '506': 'Variant Also Negotiates',\n  '507': 'Insufficient Storage',\n  '508': 'Loop Detected',\n  '509': 'Bandwidth Limit Exceeded',\n  '510': 'Not Extended',\n  '511': 'Network Authentication Required'\n};\nvar statusText = statusTextMap;\nvar theGlobal = typeof window !== 'undefined' ? window : self;\nvar setUrlImplementation = requestUtils.setUrlImplementation;\nsetUrlImplementation(theGlobal.URL);\nlib.global = theGlobal;\nlib.statusTextMap = statusText;\nlib.config = Object.assign(lib.config, {\n  Promise: theGlobal.Promise,\n  Request: theGlobal.Request,\n  Response: theGlobal.Response,\n  Headers: theGlobal.Headers\n});\nvar client = lib.createInstance();\nexport default client;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/1653020_10/Source/node_modules/fetch-mock/esm/client.js"],"names":["commonjsGlobal","globalThis","window","global","self","unwrapExports","x","__esModule","Object","prototype","hasOwnProperty","call","createCommonjsModule","fn","module","exports","s","m","h","d","w","y","ms","val","options","type","length","parse","isFinite","long","fmtLong","fmtShort","Error","JSON","stringify","str","String","match","exec","n","parseFloat","toLowerCase","undefined","msAbs","Math","abs","round","plural","name","isPlural","setup","env","createDebug","debug","default","coerce","disable","enable","enabled","humanize","keys","forEach","key","instances","names","skips","formatters","selectColor","namespace","hash","i","charCodeAt","colors","prevTime","args","curr","Number","Date","diff","prev","unshift","index","replace","format","formatter","splice","formatArgs","logFn","log","apply","useColors","color","destroy","extend","init","push","indexOf","delimiter","newDebug","namespaces","save","split","len","RegExp","substr","instance","map","toNamespace","join","test","regexp","toString","substring","stack","message","load","common","browser","storage","localstorage","process","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","$1","c","lastC","setItem","removeItem","error","r","getItem","DEBUG","localStorage","j","v","browser_1","browser_2","browser_3","browser_4","browser_5","browser_6","browser_7","debugFunc","phase","newDebugSandbox","ns","debug_1","setDebugNamespace","setDebugPhase","getDebug","FetchMock","mock","addRoute","_mock","uncompiledRoute","route","compileRoute","clashes","routes","filter","identifier","method","getOption","_uncompiledRoutes","clash","isSandbox","realFetch","fetch","fetchHandler","catch","response","fallbackResponse","warn","spy","getNativeFetch","defineShorthand","methodName","underlyingMethod","shorthandOptions","matcher","assign","defineGreedyShorthand","repeat","resetBehavior","resetHistory","_calls","_holdingPromises","reset","restore","setUpAndTearDown","responseConfigProps","ResponseBuilder","normalizeResponseConfig","constructFetchOpts","constructResponseBody","buildObservableResponse","fetchMock","config","Response","body","some","prop","responseConfig","every","includes","status","sendAsObject","TypeError","url","redirectUrl","validateStatus","statusText","statusTextMap","headers","Headers","has","set","convertToJson","setContentLength","Stream","stream","Readable","Proxy","get","originalResponse","func","thisArg","result","then","responseBuilder","URL","absoluteUrlRX","headersToArray","raw","entries","Symbol","iterator","zipObject","reduce","obj","normalizeUrl","u","href","pathname","search","extractBody","request","clone","text","requestUtils","setUrlImplementation","it","normalizeRequest","Request","isPrototypeOf","derivedOptions","normalizedRequestObject","signal","getPath","getQuery","normalize","k","equal","actualHeader","expectedHeader","Array","isArray","debug$1","setDebugPhase$1","getDebug$1","FetchMock$1","AbortError","arguments","captureStackTrace","constructor","resolve","responseIsFetch","normalizedRequest","usesBody","_asyncFetchHandler","_fetchHandler","executeRouter","done","Promise","res","rej","abort","DOMException","aborted","addEventListener","generateResponse","isMock","router","isUnmatched","throws","find","setDebugPhase$2","debug$2","normalizeUrl$1","FetchMock$2","isName","nameOrMatcher","filterCallsWithMatcher","calls","generateMatcher","sanitizeRoute","formatDebug","filterCalls","lastCall","pop","lastUrl","lastOptions","called","Boolean","flush","waitForResponseMethods","queuedPromises","all","routesToCheck","expectedTimes","actualTimes","isDone","inspecting","globToRegexp","glob","opts","reStr","extended","globstar","inGroup","flags","prevChar","starCount","nextChar","isGlobstar","pathToRegexp_1","pathToRegexp","parse_1","parse$1","compile_1","compile","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","DEFAULT_DELIMITER","DEFAULT_DELIMITERS","PATH_REGEXP","tokens","path","defaultDelimiter","delimiters","pathEscaped","escaped","offset","slice","next","capture","group","modifier","partial","optional","pattern","prefix","escapeGroup","escapeString","matches","data","encode","encodeURIComponent","token","value","segment","sensitive","regexpToRegexp","groups","source","arrayToRegexp","parts","stringToRegexp","strict","start","end","endsWith","concat","isEndDelimited","decode","qs","sep","eq","maxKeys","idx","kstr","vstr","decodeURIComponent","stringifyPrimitive","ks","querystring","querystring_1","querystring_2","querystring_3","querystring_4","isSubset_1","defineProperty","isSubset","_isSubset","_x","_x2","superset","subset","propertyIsEnumerable","subsetItem","supersetItem","lodash_isequal","LARGE_ARRAY_SIZE","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","MAX_SAFE_INTEGER","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reRegExpChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","binding","e","nodeIsTypedArray","isTypedArray","arrayFilter","array","predicate","resIndex","arrayPush","values","arraySome","baseTimes","iteratee","baseUnary","cacheHas","cache","getValue","object","mapToArray","size","overArg","transform","arg","setToArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","clear","entry","hashClear","__data__","hashDelete","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","add","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsNative","isObject","isMasked","isFunction","baseIsTypedArray","isLength","baseKeys","isPrototype","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","tag","byteLength","byteOffset","buffer","convert","objProps","getAllKeys","objLength","othProps","skipCtor","objValue","objCtor","othCtor","getSymbols","isKeyable","isOwn","unmasked","stubArray","symbol","ArrayBuffer","Ctor","ctorString","proto","isArrayLike","stubFalse","isEqual","debug$3","headerUtils","normalizeUrl$2","debuggableUrlFunc","stringMatchers","begin","targetString","urlRX","express","getHeaderMatcher","expectedHeaders","expectation","lowerCaseHeaders","headerName","getMethodMatcher","expectedMethod","actualMethod","getQueryStringMatcher","expectedQuery","query","getParamsMatcher","expectedParams","params","matcherUrl","expectedKeys","re","vals","shift","getBodyMatcher","matchPartialBody","expectedBody","sentBody","err","getFullUrlMatcher","expectedUrl","getFunctionMatcher","functionMatcher","getUrlMatcher","shorthand","urlFragment","FetchMock$3","_matchers","addMatcher","matchers","debug$4","setDebugNamespace$1","getDebug$2","isUrlMatcher","isFunctionMatcher","argsToRoute","routeConfig","validateRoute","limit","timesLeft","delayResponse","delay","setTimeout","compileRoute_1","debug$5","FetchMock$4","fallbackToNetwork","includeContentLength","sendAsJson","warnOnFallback","overwriteRoutes","createInstance","create","bindMethods","bind","sandbox","fetchMockProxy","lib","theGlobal","client"],"mappings":"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","sourcesContent":["var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nvar ms = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = ms;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nvar common = setup;\n\nvar browser = createCommonjsModule(function (module, exports) {\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = common(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n});\nvar browser_1 = browser.log;\nvar browser_2 = browser.formatArgs;\nvar browser_3 = browser.save;\nvar browser_4 = browser.load;\nvar browser_5 = browser.useColors;\nvar browser_6 = browser.storage;\nvar browser_7 = browser.colors;\n\nlet debugFunc;\nlet phase = 'default';\nlet namespace = '';\nconst newDebug = () => {\n\tdebugFunc = namespace\n\t\t? browser(`fetch-mock:${phase}:${namespace}`)\n\t\t: browser(`fetch-mock:${phase}`);\n};\n\nconst newDebugSandbox = ns => browser(`fetch-mock:${phase}:${ns}`);\n\nnewDebug();\n\nvar debug_1 = {\n\tdebug: (...args) => {\n\t\tdebugFunc(...args);\n\t},\n\tsetDebugNamespace: str => {\n\t\tnamespace = str;\n\t\tnewDebug();\n\t},\n\tsetDebugPhase: str => {\n\t\tphase = str || 'default';\n\t\tnewDebug();\n\t},\n\tgetDebug: namespace => newDebugSandbox(namespace)\n};\n\nconst { debug, setDebugPhase } = debug_1;\nconst FetchMock = {};\n\nFetchMock.mock = function(...args) {\n\tsetDebugPhase('setup');\n\tif (args.length) {\n\t\tthis.addRoute(args);\n\t}\n\n\treturn this._mock();\n};\n\nFetchMock.addRoute = function(uncompiledRoute) {\n\tdebug('Adding route', uncompiledRoute);\n\tconst route = this.compileRoute(uncompiledRoute);\n\tconst clashes = this.routes.filter(\n\t\t({ identifier, method }) =>\n\t\t\tidentifier === route.identifier &&\n\t\t\t(!method || !route.method || method === route.method)\n\t);\n\n\tif (this.getOption('overwriteRoutes', route) === false || !clashes.length) {\n\t\tthis._uncompiledRoutes.push(uncompiledRoute);\n\t\treturn this.routes.push(route);\n\t}\n\n\tif (this.getOption('overwriteRoutes', route) === true) {\n\t\tclashes.forEach(clash => {\n\t\t\tconst index = this.routes.indexOf(clash);\n\t\t\tthis._uncompiledRoutes.splice(index, 1, uncompiledRoute);\n\t\t\tthis.routes.splice(index, 1, route);\n\t\t});\n\t\treturn this.routes;\n\t}\n\n\tif (clashes.length) {\n\t\tthrow new Error(\n\t\t\t'fetch-mock: Adding route with same name or matcher as existing route. See `overwriteRoutes` option.'\n\t\t);\n\t}\n\n\tthis._uncompiledRoutes.push(uncompiledRoute);\n\tthis.routes.push(route);\n};\n\nFetchMock._mock = function() {\n\tif (!this.isSandbox) {\n\t\t// Do this here rather than in the constructor to ensure it's scoped to the test\n\t\tthis.realFetch = this.realFetch || this.global.fetch;\n\t\tthis.global.fetch = this.fetchHandler;\n\t}\n\tsetDebugPhase();\n\treturn this;\n};\n\nFetchMock.catch = function(response) {\n\tif (this.fallbackResponse) {\n\t\tconsole.warn(\n\t\t\t'calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response'\n\t\t); // eslint-disable-line\n\t}\n\tthis.fallbackResponse = response || 'ok';\n\treturn this._mock();\n};\n\nFetchMock.spy = function() {\n\tthis._mock();\n\treturn this.catch(this.getNativeFetch());\n};\n\nconst defineShorthand = (methodName, underlyingMethod, shorthandOptions) => {\n\tFetchMock[methodName] = function(matcher, response, options) {\n\t\treturn this[underlyingMethod](\n\t\t\tmatcher,\n\t\t\tresponse,\n\t\t\tObject.assign(options || {}, shorthandOptions)\n\t\t);\n\t};\n};\n\nconst defineGreedyShorthand = (methodName, underlyingMethod) => {\n\tFetchMock[methodName] = function(response, options) {\n\t\treturn this[underlyingMethod]({}, response, options);\n\t};\n};\n\ndefineShorthand('once', 'mock', { repeat: 1 });\ndefineGreedyShorthand('any', 'mock');\ndefineGreedyShorthand('anyOnce', 'once');\n\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(method => {\n\tdefineShorthand(method, 'mock', { method });\n\tdefineShorthand(`${method}Once`, 'once', { method });\n\tdefineGreedyShorthand(`${method}Any`, method);\n\tdefineGreedyShorthand(`${method}AnyOnce`, `${method}Once`);\n});\n\nFetchMock.resetBehavior = function() {\n\tif (this.realFetch) {\n\t\tthis.global.fetch = this.realFetch;\n\t\tthis.realFetch = undefined;\n\t}\n\tthis.fallbackResponse = undefined;\n\tthis.routes = [];\n\tthis._uncompiledRoutes = [];\n\treturn this;\n};\n\nFetchMock.resetHistory = function() {\n\tthis._calls = [];\n\tthis._holdingPromises = [];\n\tthis.routes.forEach(route => route.reset && route.reset());\n\treturn this;\n};\n\nFetchMock.restore = FetchMock.reset = function() {\n\tthis.resetBehavior();\n\tthis.resetHistory();\n\treturn this;\n};\n\nvar setUpAndTearDown = FetchMock;\n\nconst { getDebug } = debug_1;\nconst responseConfigProps = [\n\t'body',\n\t'headers',\n\t'throws',\n\t'status',\n\t'redirectUrl'\n];\n\nclass ResponseBuilder {\n\tconstructor(options) {\n\t\tthis.debug = getDebug('ResponseBuilder()');\n\t\tthis.debug('Response builder created with options', options);\n\t\tObject.assign(this, options);\n\t}\n\n\texec() {\n\t\tthis.debug('building response');\n\t\tthis.normalizeResponseConfig();\n\t\tthis.constructFetchOpts();\n\t\tthis.constructResponseBody();\n\t\treturn this.buildObservableResponse(\n\t\t\tnew this.fetchMock.config.Response(this.body, this.options)\n\t\t);\n\t}\n\n\tsendAsObject() {\n\t\tif (responseConfigProps.some(prop => this.responseConfig[prop])) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.responseConfig).every(key =>\n\t\t\t\t\tresponseConfigProps.includes(key)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tnormalizeResponseConfig() {\n\t\t// If the response config looks like a status, start to generate a simple response\n\t\tif (typeof this.responseConfig === 'number') {\n\t\t\tthis.debug('building response using status', this.responseConfig);\n\t\t\tthis.responseConfig = {\n\t\t\t\tstatus: this.responseConfig\n\t\t\t};\n\t\t\t// If the response config is not an object, or is an object that doesn't use\n\t\t\t// any reserved properties, assume it is meant to be the body of the response\n\t\t} else if (typeof this.responseConfig === 'string' || this.sendAsObject()) {\n\t\t\tthis.debug('building text response from', this.responseConfig);\n\t\t\tthis.responseConfig = {\n\t\t\t\tbody: this.responseConfig\n\t\t\t};\n\t\t}\n\t}\n\n\tvalidateStatus(status) {\n\t\tif (!status) {\n\t\t\tthis.debug('No status provided. Defaulting to 200');\n\t\t\treturn 200;\n\t\t}\n\n\t\tif (\n\t\t\t(typeof status === 'number' &&\n\t\t\t\tparseInt(status, 10) !== status &&\n\t\t\t\tstatus >= 200) ||\n\t\t\tstatus < 600\n\t\t) {\n\t\t\tthis.debug('Valid status provided', status);\n\t\t\treturn status;\n\t\t}\n\n\t\tthrow new TypeError(`fetch-mock: Invalid status ${status} passed on response object.\nTo respond with a JSON object that has status as a property assign the object to body\ne.g. {\"body\": {\"status: \"registered\"}}`);\n\t}\n\n\tconstructFetchOpts() {\n\t\tthis.options = this.responseConfig.options || {};\n\t\tthis.options.url = this.responseConfig.redirectUrl || this.url;\n\t\tthis.options.status = this.validateStatus(this.responseConfig.status);\n\t\tthis.options.statusText = this.fetchMock.statusTextMap[\n\t\t\tString(this.options.status)\n\t\t];\n\t\t// Set up response headers. The empty object is to cope with\n\t\t// new Headers(undefined) throwing in Chrome\n\t\t// https://code.google.com/p/chromium/issues/detail?id=335871\n\t\tthis.options.headers = new this.fetchMock.config.Headers(\n\t\t\tthis.responseConfig.headers || {}\n\t\t);\n\t}\n\n\tgetOption(name) {\n\t\treturn this.fetchMock.getOption(name, this.route);\n\t}\n\n\tconvertToJson() {\n\t\t// convert to json if we need to\n\t\tif (\n\t\t\tthis.getOption('sendAsJson') &&\n\t\t\tthis.responseConfig.body != null && //eslint-disable-line\n\t\t\ttypeof this.body === 'object'\n\t\t) {\n\t\t\tthis.debug('Stringifying JSON response body');\n\t\t\tthis.body = JSON.stringify(this.body);\n\t\t\tif (!this.options.headers.has('Content-Type')) {\n\t\t\t\tthis.options.headers.set('Content-Type', 'application/json');\n\t\t\t}\n\t\t}\n\t}\n\n\tsetContentLength() {\n\t\t// add a Content-Length header if we need to\n\t\tif (\n\t\t\tthis.getOption('includeContentLength') &&\n\t\t\ttypeof this.body === 'string' &&\n\t\t\t!this.options.headers.has('Content-Length')\n\t\t) {\n\t\t\tthis.debug('Setting content-length header:', this.body.length.toString());\n\t\t\tthis.options.headers.set('Content-Length', this.body.length.toString());\n\t\t}\n\t}\n\n\tconstructResponseBody() {\n\t\t// start to construct the body\n\t\tthis.body = this.responseConfig.body;\n\t\tthis.convertToJson();\n\t\tthis.setContentLength();\n\n\t\t// On the server we need to manually construct the readable stream for the\n\t\t// Response object (on the client this done automatically)\n\t\tif (this.Stream) {\n\t\t\tthis.debug('Creating response stream');\n\t\t\tconst stream = new this.Stream.Readable();\n\t\t\tif (this.body != null) { //eslint-disable-line\n\t\t\t\tstream.push(this.body, 'utf-8');\n\t\t\t}\n\t\t\tstream.push(null);\n\t\t\tthis.body = stream;\n\t\t}\n\t\tthis.body = this.body;\n\t}\n\n\tbuildObservableResponse(response) {\n\t\tconst fetchMock = this.fetchMock;\n\n\t\t// Using a proxy means we can set properties that may not be writable on\n\t\t// the original Response. It also means we can track the resolution of\n\t\t// promises returned by res.json(), res.text() etc\n\t\tthis.debug('Wrappipng Response in ES proxy for observability');\n\t\treturn new Proxy(response, {\n\t\t\tget: (originalResponse, name) => {\n\t\t\t\tif (this.responseConfig.redirectUrl) {\n\t\t\t\t\tif (name === 'url') {\n\t\t\t\t\t\tthis.debug(\n\t\t\t\t\t\t\t'Retrieving redirect url',\n\t\t\t\t\t\t\tthis.responseConfig.redirectUrl\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn this.responseConfig.redirectUrl;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (name === 'redirected') {\n\t\t\t\t\t\tthis.debug('Retrieving redirected status', true);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof originalResponse[name] === 'function') {\n\t\t\t\t\tthis.debug('Wrapping body promises in ES proxies for observability');\n\t\t\t\t\treturn new Proxy(originalResponse[name], {\n\t\t\t\t\t\tapply: (func, thisArg, args) => {\n\t\t\t\t\t\t\tthis.debug(`Calling res.${name}`);\n\t\t\t\t\t\t\tconst result = func.apply(response, args);\n\t\t\t\t\t\t\tif (result.then) {\n\t\t\t\t\t\t\t\tfetchMock._holdingPromises.push(result.catch(() => null));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn originalResponse[name];\n\t\t\t}\n\t\t});\n\t}\n}\n\nvar responseBuilder = options => new ResponseBuilder(options).exec();\n\nlet URL;\n// https://stackoverflow.com/a/19709846/308237\nconst absoluteUrlRX = new RegExp('^(?:[a-z]+:)?//', 'i');\n\nconst headersToArray = headers => {\n\t// node-fetch 1 Headers\n\tif (typeof headers.raw === 'function') {\n\t\treturn Object.entries(headers.raw());\n\t} else if (headers[Symbol.iterator]) {\n\t\treturn [...headers];\n\t} else {\n\t\treturn Object.entries(headers);\n\t}\n};\n\nconst zipObject = entries =>\n\tentries.reduce((obj, [key, val]) => Object.assign(obj, { [key]: val }), {});\n\nconst normalizeUrl = url => {\n\tif (\n\t\ttypeof url === 'function' ||\n\t\turl instanceof RegExp ||\n\t\t/^(begin|end|glob|express|path)\\:/.test(url)\n\t) {\n\t\treturn url;\n\t}\n\tif (absoluteUrlRX.test(url)) {\n\t\tconst u = new URL(url);\n\t\treturn u.href;\n\t} else {\n\t\tconst u = new URL(url, 'http://dummy');\n\t\treturn u.pathname + u.search;\n\t}\n};\n\nconst extractBody = async request => {\n\ttry {\n\t\t// node-fetch\n\t\tif ('body' in request) {\n\t\t\treturn request.body.toString();\n\t\t}\n\t\t// fetch\n\t\treturn request.clone().text();\n\t} catch (err) {}\n};\n\nvar requestUtils = {\n\tsetUrlImplementation: it => {\n\t\tURL = it;\n\t},\n\tnormalizeRequest: (url, options, Request) => {\n\t\tif (Request.prototype.isPrototypeOf(url)) {\n\t\t\tconst derivedOptions = {\n\t\t\t\tmethod: url.method\n\t\t\t};\n\n\t\t\tconst body = extractBody(url);\n\n\t\t\tif (typeof body !== 'undefined') {\n\t\t\t\tderivedOptions.body = body;\n\t\t\t}\n\n\t\t\tconst normalizedRequestObject = {\n\t\t\t\turl: normalizeUrl(url.url),\n\t\t\t\toptions: Object.assign(derivedOptions, options),\n\t\t\t\trequest: url,\n\t\t\t\tsignal: (options && options.signal) || url.signal\n\t\t\t};\n\n\t\t\tconst headers = headersToArray(url.headers);\n\n\t\t\tif (headers.length) {\n\t\t\t\tnormalizedRequestObject.options.headers = zipObject(headers);\n\t\t\t}\n\t\t\treturn normalizedRequestObject;\n\t\t} else if (\n\t\t\ttypeof url === 'string' ||\n\t\t\t// horrible URL object duck-typing\n\t\t\t(typeof url === 'object' && 'href' in url)\n\t\t) {\n\t\t\treturn {\n\t\t\t\turl: normalizeUrl(url),\n\t\t\t\toptions: options,\n\t\t\t\tsignal: options && options.signal\n\t\t\t};\n\t\t} else if (typeof url === 'object') {\n\t\t\tthrow new TypeError(\n\t\t\t\t'fetch-mock: Unrecognised Request object. Read the Config and Installation sections of the docs'\n\t\t\t);\n\t\t} else {\n\t\t\tthrow new TypeError('fetch-mock: Invalid arguments passed to fetch');\n\t\t}\n\t},\n\tnormalizeUrl,\n\tgetPath: url => {\n\t\tconst u = absoluteUrlRX.test(url)\n\t\t\t? new URL(url)\n\t\t\t: new URL(url, 'http://dummy');\n\t\treturn u.pathname;\n\t},\n\n\tgetQuery: url => {\n\t\tconst u = absoluteUrlRX.test(url)\n\t\t\t? new URL(url)\n\t\t\t: new URL(url, 'http://dummy');\n\t\treturn u.search ? u.search.substr(1) : '';\n\t},\n\theaders: {\n\t\tnormalize: headers => zipObject(headersToArray(headers)),\n\t\ttoLowerCase: headers =>\n\t\t\tObject.keys(headers).reduce((obj, k) => {\n\t\t\t\tobj[k.toLowerCase()] = headers[k];\n\t\t\t\treturn obj;\n\t\t\t}, {}),\n\t\tequal: (actualHeader, expectedHeader) => {\n\t\t\tactualHeader = Array.isArray(actualHeader)\n\t\t\t\t? actualHeader\n\t\t\t\t: [actualHeader];\n\t\t\texpectedHeader = Array.isArray(expectedHeader)\n\t\t\t\t? expectedHeader\n\t\t\t\t: [expectedHeader];\n\n\t\t\tif (actualHeader.length !== expectedHeader.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn actualHeader.every((val, i) => val === expectedHeader[i]);\n\t\t}\n\t}\n};\n\nconst { debug: debug$1, setDebugPhase: setDebugPhase$1, getDebug: getDebug$1 } = debug_1;\n\n\nconst FetchMock$1 = {};\n\n// see https://heycam.github.io/webidl/#aborterror for the standardised interface\n// Note that this differs slightly from node-fetch\nclass AbortError extends Error {\n\tconstructor() {\n\t\tsuper(...arguments);\n\t\tthis.name = 'AbortError';\n\t\tthis.message = 'The operation was aborted.';\n\n\t\t// Do not include this class in the stacktrace\n\t\tif (Error.captureStackTrace) {\n\t\t\tError.captureStackTrace(this, this.constructor);\n\t\t}\n\t}\n}\n\nconst resolve = async (\n\t{ response, responseIsFetch = false },\n\turl,\n\toptions,\n\trequest\n) => {\n\tconst debug = getDebug$1('resolve()');\n\tdebug('Recursively resolving function and promise responses');\n\t// We want to allow things like\n\t// - function returning a Promise for a response\n\t// - delaying (using a timeout Promise) a function's execution to generate\n\t//   a response\n\t// Because of this we can't safely check for function before Promisey-ness,\n\t// or vice versa. So to keep it DRY, and flexible, we keep trying until we\n\t// have something that looks like neither Promise nor function\n\twhile (true) {\n\t\tif (typeof response === 'function') {\n\t\t\tdebug('  Response is a function');\n\t\t\t// in the case of falling back to the network we need to make sure we're using\n\t\t\t// the original Request instance, not our normalised url + options\n\t\t\tif (responseIsFetch) {\n\t\t\t\tif (request) {\n\t\t\t\t\tdebug('  -> Calling fetch with Request instance');\n\t\t\t\t\treturn response(request);\n\t\t\t\t}\n\t\t\t\tdebug('  -> Calling fetch with url and options');\n\t\t\t\treturn response(url, options);\n\t\t\t} else {\n\t\t\t\tdebug('  -> Calling response function');\n\t\t\t\tresponse = response(url, options, request);\n\t\t\t}\n\t\t} else if (typeof response.then === 'function') {\n\t\t\tdebug('  Response is a promise');\n\t\t\tdebug('  -> Resolving promise');\n\t\t\tresponse = await response;\n\t\t} else {\n\t\t\tdebug('  Response is not a function or a promise');\n\t\t\tdebug('  -> Exiting response resolution recursion');\n\t\t\treturn response;\n\t\t}\n\t}\n};\n\nFetchMock$1.fetchHandler = function(url, options, request) {\n\tsetDebugPhase$1('handle');\n\tconst debug = getDebug$1('fetchHandler()');\n\tdebug('fetch called with:', url, options);\n\tconst normalizedRequest = requestUtils.normalizeRequest(\n\t\turl,\n\t\toptions,\n\t\tthis.config.Request\n\t);\n\n\t({ url, options, request } = normalizedRequest);\n\n\tconst { signal } = normalizedRequest;\n\n\tdebug('Request normalised');\n\tdebug('  url', url);\n\tdebug('  options', options);\n\tdebug('  request', request);\n\tdebug('  signal', signal);\n\n\tif (request && this.routes.some(({ usesBody }) => usesBody)) {\n\t\tdebug(\n\t\t\t'Need to wait for Body to be streamed before calling router: switching to async mode'\n\t\t);\n\t\treturn this._asyncFetchHandler(url, options, request, signal);\n\t}\n\treturn this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._asyncFetchHandler = async function(url, options, request, signal) {\n\toptions.body = await options.body;\n\treturn this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._fetchHandler = function(url, options, request, signal) {\n\tconst route = this.executeRouter(url, options, request);\n\n\t// this is used to power the .flush() method\n\tlet done;\n\tthis._holdingPromises.push(new this.config.Promise(res => (done = res)));\n\n\t// wrapped in this promise to make sure we respect custom Promise\n\t// constructors defined by the user\n\treturn new this.config.Promise((res, rej) => {\n\t\tif (signal) {\n\t\t\tdebug$1('signal exists - enabling fetch abort');\n\t\t\tconst abort = () => {\n\t\t\t\tdebug$1('aborting fetch');\n\t\t\t\t// note that DOMException is not available in node.js; even node-fetch uses a custom error class: https://github.com/bitinn/node-fetch/blob/master/src/abort-error.js\n\t\t\t\trej(\n\t\t\t\t\ttypeof DOMException !== 'undefined'\n\t\t\t\t\t\t? new DOMException('The operation was aborted.', 'AbortError')\n\t\t\t\t\t\t: new AbortError()\n\t\t\t\t);\n\t\t\t\tdone();\n\t\t\t};\n\t\t\tif (signal.aborted) {\n\t\t\t\tdebug$1('signal is already aborted - aborting the fetch');\n\t\t\t\tabort();\n\t\t\t}\n\t\t\tsignal.addEventListener('abort', abort);\n\t\t}\n\n\t\tthis.generateResponse(route, url, options, request)\n\t\t\t.then(res, rej)\n\t\t\t.then(done, done)\n\t\t\t.then(() => {\n\t\t\t\tsetDebugPhase$1();\n\t\t\t});\n\t});\n};\n\nFetchMock$1.fetchHandler.isMock = true;\n\nFetchMock$1.executeRouter = function(url, options, request) {\n\tconst debug = getDebug$1('executeRouter()');\n\tdebug(`Attempting to match request to a route`);\n\tif (this.getOption('fallbackToNetwork') === 'always') {\n\t\tdebug(\n\t\t\t'  Configured with fallbackToNetwork=always - passing through to fetch'\n\t\t);\n\t\treturn { response: this.getNativeFetch(), responseIsFetch: true };\n\t}\n\n\tconst match = this.router(url, options, request);\n\n\tif (match) {\n\t\tdebug('  Matching route found');\n\t\treturn match;\n\t}\n\n\tif (this.getOption('warnOnFallback')) {\n\t\tconsole.warn(`Unmatched ${(options && options.method) || 'GET'} to ${url}`); // eslint-disable-line\n\t}\n\n\tthis.push({ url, options, request, isUnmatched: true });\n\n\tif (this.fallbackResponse) {\n\t\tdebug('  No matching route found - using fallbackResponse');\n\t\treturn { response: this.fallbackResponse };\n\t}\n\n\tif (!this.getOption('fallbackToNetwork')) {\n\t\tthrow new Error(\n\t\t\t`fetch-mock: No fallback response defined for ${(options &&\n\t\t\t\toptions.method) ||\n\t\t\t\t'GET'} to ${url}`\n\t\t);\n\t}\n\n\tdebug('  Configured to fallbackToNetwork - passing through to fetch');\n\treturn { response: this.getNativeFetch(), responseIsFetch: true };\n};\n\nFetchMock$1.generateResponse = async function(route, url, options, request) {\n\tconst debug = getDebug$1('generateResponse()');\n\tconst response = await resolve(route, url, options, request);\n\n\t// If the response says to throw an error, throw it\n\t// Type checking is to deal with sinon spies having a throws property :-0\n\tif (response.throws && typeof response !== 'function') {\n\t\tdebug('response.throws is defined - throwing an error');\n\t\tthrow response.throws;\n\t}\n\n\t// If the response is a pre-made Response, respond with it\n\tif (this.config.Response.prototype.isPrototypeOf(response)) {\n\t\tdebug('response is already a Response instance - returning it');\n\t\treturn response;\n\t}\n\n\t// finally, if we need to convert config into a response, we do it\n\treturn responseBuilder({\n\t\turl,\n\t\tresponseConfig: response,\n\t\tfetchMock: this,\n\t\troute\n\t});\n};\n\nFetchMock$1.router = function(url, options, request) {\n\tconst route = this.routes.find((route, i) => {\n\t\tdebug$1(`Trying to match route ${i}`);\n\t\treturn route.matcher(url, options, request);\n\t});\n\n\tif (route) {\n\t\tthis.push({\n\t\t\turl,\n\t\t\toptions,\n\t\t\trequest,\n\t\t\tidentifier: route.identifier\n\t\t});\n\t\treturn route;\n\t}\n};\n\nFetchMock$1.getNativeFetch = function() {\n\tconst func = this.realFetch || (this.isSandbox && this.config.fetch);\n\tif (!func) {\n\t\tthrow new Error(\n\t\t\t'fetch-mock: Falling back to network only available on global fetch-mock, or by setting config.fetch on sandboxed fetch-mock'\n\t\t);\n\t}\n\treturn func;\n};\n\nFetchMock$1.push = function({ url, options, request, isUnmatched, identifier }) {\n\tdebug$1('Recording fetch call', {\n\t\turl,\n\t\toptions,\n\t\trequest,\n\t\tisUnmatched,\n\t\tidentifier\n\t});\n\tconst args = [url, options];\n\targs.request = request;\n\targs.identifier = identifier;\n\targs.isUnmatched = isUnmatched;\n\tthis._calls.push(args);\n};\n\nvar fetchHandler = FetchMock$1;\n\nconst { setDebugPhase: setDebugPhase$2, setDebugNamespace, debug: debug$2 } = debug_1;\nconst { normalizeUrl: normalizeUrl$1 } = requestUtils;\nconst FetchMock$2 = {};\nconst isName = nameOrMatcher =>\n\ttypeof nameOrMatcher === 'string' && /^[\\da-zA-Z\\-]+$/.test(nameOrMatcher);\n\nconst filterCallsWithMatcher = function(matcher, options = {}, calls) {\n\tmatcher = this.generateMatcher(\n\t\tthis.sanitizeRoute(Object.assign({ matcher }, options))\n\t);\n\treturn calls.filter(([url, options]) => matcher(normalizeUrl$1(url), options));\n};\n\nconst formatDebug = func => {\n\treturn function(...args) {\n\t\tsetDebugPhase$2('inspect');\n\t\tconst result = func.call(this, ...args);\n\t\tsetDebugPhase$2();\n\t\treturn result;\n\t};\n};\n\nFetchMock$2.filterCalls = function(nameOrMatcher, options) {\n\tdebug$2('Filtering fetch calls');\n\tlet calls = this._calls;\n\tlet matcher = '*';\n\n\tif ([true, 'matched'].includes(nameOrMatcher)) {\n\t\tdebug$2(`Filter provided is ${nameOrMatcher}. Returning matched calls only`);\n\t\tcalls = calls.filter(({ isUnmatched }) => !isUnmatched);\n\t} else if ([false, 'unmatched'].includes(nameOrMatcher)) {\n\t\tdebug$2(\n\t\t\t`Filter provided is ${nameOrMatcher}. Returning unmatched calls only`\n\t\t);\n\t\tcalls = calls.filter(({ isUnmatched }) => isUnmatched);\n\t} else if (typeof nameOrMatcher === 'undefined') {\n\t\tdebug$2(`Filter provided is undefined. Returning all calls`);\n\t\tcalls = calls;\n\t} else if (isName(nameOrMatcher)) {\n\t\tdebug$2(\n\t\t\t`Filter provided, looks like the name of a named route. Returning only calls handled by that route`\n\t\t);\n\t\tcalls = calls.filter(({ identifier }) => identifier === nameOrMatcher);\n\t} else {\n\t\tmatcher = normalizeUrl$1(nameOrMatcher);\n\t\tif (this.routes.some(({ identifier }) => identifier === matcher)) {\n\t\t\tdebug$2(\n\t\t\t\t`Filter provided, ${nameOrMatcher}, identifies a route. Returning only calls handled by that route`\n\t\t\t);\n\t\t\tcalls = calls.filter(call => call.identifier === matcher);\n\t\t}\n\t}\n\n\tif ((options || matcher !== '*') && calls.length) {\n\t\tif (typeof options === 'string') {\n\t\t\toptions = { method: options };\n\t\t}\n\t\tdebug$2(\n\t\t\t'Compiling filter and options to route in order to filter all calls',\n\t\t\tnameOrMatcher\n\t\t);\n\t\tcalls = filterCallsWithMatcher.call(this, matcher, options, calls);\n\t}\n\tdebug$2(`Retrieved ${calls.length} calls`);\n\treturn calls;\n};\n\nFetchMock$2.calls = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving matching calls');\n\treturn this.filterCalls(nameOrMatcher, options);\n});\n\nFetchMock$2.lastCall = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving last matching call');\n\treturn [...this.filterCalls(nameOrMatcher, options)].pop();\n});\n\nFetchMock$2.lastUrl = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving url of last matching call');\n\treturn (this.lastCall(nameOrMatcher, options) || [])[0];\n});\n\nFetchMock$2.lastOptions = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving options of last matching call');\n\treturn (this.lastCall(nameOrMatcher, options) || [])[1];\n});\n\nFetchMock$2.called = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('checking if matching call was made');\n\treturn Boolean(this.filterCalls(nameOrMatcher, options).length);\n});\n\nFetchMock$2.flush = formatDebug(async function(waitForResponseMethods) {\n\tsetDebugNamespace('flush');\n\tdebug$2(\n\t\t`flushing all fetch calls. ${\n\t\t\twaitForResponseMethods ? '' : 'Not '\n\t\t}waiting for response bodies to complete download`\n\t);\n\n\tconst queuedPromises = this._holdingPromises;\n\tthis._holdingPromises = [];\n\tdebug$2(`${queuedPromises.length} fetch calls to be awaited`);\n\n\tawait Promise.all(queuedPromises);\n\tdebug$2(`All fetch calls have completed`);\n\tif (waitForResponseMethods && this._holdingPromises.length) {\n\t\tdebug$2(`Awaiting all fetch bodies to download`);\n\t\tawait this.flush(waitForResponseMethods);\n\t\tdebug$2(`All fetch bodies have completed downloading`);\n\t}\n\tsetDebugNamespace();\n});\n\nFetchMock$2.done = formatDebug(function(nameOrMatcher) {\n\tsetDebugPhase$2('inspect');\n\tsetDebugNamespace('done');\n\tdebug$2('Checking to see if expected calls have been made');\n\tlet routesToCheck;\n\n\tif (nameOrMatcher && typeof nameOrMatcher !== 'boolean') {\n\t\tdebug$2(\n\t\t\t'Checking to see if expected calls have been made for single route:',\n\t\t\tnameOrMatcher\n\t\t);\n\t\troutesToCheck = [{ identifier: nameOrMatcher }];\n\t} else {\n\t\tdebug$2('Checking to see if expected calls have been made for all routes');\n\t\troutesToCheck = this.routes;\n\t}\n\n\t// Can't use array.every because would exit after first failure, which would\n\t// break the logging\n\tconst result = routesToCheck\n\t\t.map(({ identifier }) => {\n\t\t\tif (!this.called(identifier)) {\n\t\t\t\tdebug$2('No calls made for route:', identifier);\n\t\t\t\tconsole.warn(`Warning: ${identifier} not called`); // eslint-disable-line\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst expectedTimes = (\n\t\t\t\tthis.routes.find(r => r.identifier === identifier) || {}\n\t\t\t).repeat;\n\n\t\t\tif (!expectedTimes) {\n\t\t\t\tdebug$2(\n\t\t\t\t\t'Route has been called at least once, and no expectation of more set:',\n\t\t\t\t\tidentifier\n\t\t\t\t);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst actualTimes = this.filterCalls(identifier).length;\n\n\t\t\tdebug$2(`Route called ${actualTimes} times:`, identifier);\n\t\t\tif (expectedTimes > actualTimes) {\n\t\t\t\tdebug$2(\n\t\t\t\t\t`Route called ${actualTimes} times, but expected ${expectedTimes}:`,\n\t\t\t\t\tidentifier\n\t\t\t\t);\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`Warning: ${identifier} only called ${actualTimes} times, but ${expectedTimes} expected`\n\t\t\t\t); // eslint-disable-line\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})\n\t\t.every(isDone => isDone);\n\n\tsetDebugNamespace();\n\tsetDebugPhase$2();\n\treturn result;\n});\n\nvar inspecting = FetchMock$2;\n\nvar globToRegexp = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined);   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"((?:[^/]*(?:\\/|$))*)\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"([^/]*)\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse$1;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse$1 (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER;\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS;\n  var pathEscaped = false;\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      pathEscaped = true;\n      continue\n    }\n\n    var prev = '';\n    var next = str[index];\n    var name = res[2];\n    var capture = res[3];\n    var group = res[4];\n    var modifier = res[5];\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1;\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k];\n        path = path.slice(0, k);\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n      pathEscaped = false;\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = prev || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    });\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index));\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse$1(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (data, options) {\n    var path = '';\n    var encode = (options && options.encode) || encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var segment;\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token);\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment;\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix;\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      });\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse$1(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var start = options.start !== false;\n  var end = options.end !== false;\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n  var route = start ? '^' : '';\n  var isEndDelimited = tokens.length === 0;\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern;\n\n      if (keys) keys.push(token);\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?';\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?';\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')';\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?';\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')';\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n// Copyright Joyent, Inc. and other Node contributors.\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar decode = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n// Copyright Joyent, Inc. and other Node contributors.\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar encode = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar querystring = createCommonjsModule(function (module, exports) {\n\nexports.decode = exports.parse = decode;\nexports.encode = exports.stringify = encode;\n});\nvar querystring_1 = querystring.decode;\nvar querystring_2 = querystring.parse;\nvar querystring_3 = querystring.encode;\nvar querystring_4 = querystring.stringify;\n\nvar isSubset_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n/**\n * Check if an object is contained within another object.\n *\n * Returns `true` if:\n * - all enumerable keys of *subset* are also enumerable in *superset*, and\n * - every value assigned to an enumerable key of *subset* strictly equals\n *   the value assigned to the same key of *superset* – or is a subset of it.\n *\n * @param  {Object}  superset\n * @param  {Object}  subset\n *\n * @returns  {Boolean}\n *\n * @module    is-subset\n * @function  default\n * @alias     isSubset\n */\nvar isSubset = (function (_isSubset) {\n  function isSubset(_x, _x2) {\n    return _isSubset.apply(this, arguments);\n  }\n\n  isSubset.toString = function () {\n    return _isSubset.toString();\n  };\n\n  return isSubset;\n})(function (superset, subset) {\n  if (typeof superset !== 'object' || superset === null || (typeof subset !== 'object' || subset === null)) return false;\n\n  return Object.keys(subset).every(function (key) {\n    if (!superset.propertyIsEnumerable(key)) return false;\n\n    var subsetItem = subset[key];\n    var supersetItem = superset[key];\n    if (typeof subsetItem === 'object' && subsetItem !== null ? !isSubset(supersetItem, subsetItem) : supersetItem !== subsetItem) return false;\n\n    return true;\n  });\n});\n\nexports['default'] = isSubset;\nmodule.exports = exports['default'];\n});\n\nunwrapExports(isSubset_1);\n\nvar lodash_isequal = createCommonjsModule(function (module, exports) {\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n});\n\nconst { debug: debug$3 } = debug_1;\n\n\n\n\nconst {\n\theaders: headerUtils,\n\tgetPath,\n\tgetQuery,\n\tnormalizeUrl: normalizeUrl$2\n} = requestUtils;\n\n\nconst debuggableUrlFunc = func => url => {\n\tdebug$3('Actual url:', url);\n\treturn func(url);\n};\n\nconst stringMatchers = {\n\tbegin: targetString =>\n\t\tdebuggableUrlFunc(url => url.indexOf(targetString) === 0),\n\tend: targetString =>\n\t\tdebuggableUrlFunc(url => url.substr(-targetString.length) === targetString),\n\tglob: targetString => {\n\t\tconst urlRX = globToRegexp(targetString);\n\t\treturn debuggableUrlFunc(url => urlRX.test(url));\n\t},\n\texpress: targetString => {\n\t\tconst urlRX = pathToRegexp_1(targetString);\n\t\treturn debuggableUrlFunc(url => urlRX.test(getPath(url)));\n\t},\n\tpath: targetString => debuggableUrlFunc(url => getPath(url) === targetString)\n};\n\nconst getHeaderMatcher = ({ headers: expectedHeaders }) => {\n\tdebug$3('Generating header matcher');\n\tif (!expectedHeaders) {\n\t\tdebug$3('  No header expectations defined - skipping');\n\t\treturn;\n\t}\n\tconst expectation = headerUtils.toLowerCase(expectedHeaders);\n\tdebug$3('  Expected headers:', expectation);\n\treturn (url, { headers = {} }) => {\n\t\tdebug$3('Attempting to match headers');\n\t\tconst lowerCaseHeaders = headerUtils.toLowerCase(\n\t\t\theaderUtils.normalize(headers)\n\t\t);\n\t\tdebug$3('  Expected headers:', expectation);\n\t\tdebug$3('  Actual headers:', lowerCaseHeaders);\n\t\treturn Object.keys(expectation).every(headerName =>\n\t\t\theaderUtils.equal(lowerCaseHeaders[headerName], expectation[headerName])\n\t\t);\n\t};\n};\n\nconst getMethodMatcher = ({ method: expectedMethod }) => {\n\tdebug$3('Generating method matcher');\n\tif (!expectedMethod) {\n\t\tdebug$3('  No method expectations defined - skipping');\n\t\treturn;\n\t}\n\tdebug$3('  Expected method:', expectedMethod);\n\treturn (url, { method }) => {\n\t\tdebug$3('Attempting to match method');\n\t\tconst actualMethod = method ? method.toLowerCase() : 'get';\n\t\tdebug$3('  Expected method:', expectedMethod);\n\t\tdebug$3('  Actual method:', actualMethod);\n\t\treturn expectedMethod === actualMethod;\n\t};\n};\n\nconst getQueryStringMatcher = ({ query: expectedQuery }) => {\n\tdebug$3('Generating query parameters matcher');\n\tif (!expectedQuery) {\n\t\tdebug$3('  No query parameters expectations defined - skipping');\n\t\treturn;\n\t}\n\tdebug$3('  Expected query parameters:', expectedQuery);\n\tconst keys = Object.keys(expectedQuery);\n\treturn url => {\n\t\tdebug$3('Attempting to match query parameters');\n\t\tconst query = querystring.parse(getQuery(url));\n\t\tdebug$3('  Expected query parameters:', expectedQuery);\n\t\tdebug$3('  Actual query parameters:', query);\n\t\treturn keys.every(key => query[key] === expectedQuery[key]);\n\t};\n};\n\nconst getParamsMatcher = ({ params: expectedParams, url: matcherUrl }) => {\n\tdebug$3('Generating path parameters matcher');\n\tif (!expectedParams) {\n\t\tdebug$3('  No path parameters expectations defined - skipping');\n\t\treturn;\n\t}\n\tif (!/express:/.test(matcherUrl)) {\n\t\tthrow new Error(\n\t\t\t'fetch-mock: matching on params is only possible when using an express: matcher'\n\t\t);\n\t}\n\tdebug$3('  Expected path parameters:', expectedParams);\n\tconst expectedKeys = Object.keys(expectedParams);\n\tconst keys = [];\n\tconst re = pathToRegexp_1(matcherUrl.replace(/^express:/, ''), keys);\n\treturn url => {\n\t\tdebug$3('Attempting to match path parameters');\n\t\tconst vals = re.exec(getPath(url)) || [];\n\t\tvals.shift();\n\t\tconst params = keys.reduce(\n\t\t\t(map, { name }, i) =>\n\t\t\t\tvals[i] ? Object.assign(map, { [name]: vals[i] }) : map,\n\t\t\t{}\n\t\t);\n\t\tdebug$3('  Expected path parameters:', expectedParams);\n\t\tdebug$3('  Actual path parameters:', params);\n\t\treturn expectedKeys.every(key => params[key] === expectedParams[key]);\n\t};\n};\n\nconst getBodyMatcher = (route, fetchMock) => {\n\tconst matchPartialBody = fetchMock.getOption('matchPartialBody', route);\n\tconst { body: expectedBody } = route;\n\n\tdebug$3('Generating body matcher');\n\treturn (url, { body, method = 'get' }) => {\n\t\tdebug$3('Attempting to match body');\n\t\tif (method.toLowerCase() === 'get') {\n\t\t\tdebug$3('  GET request - skip matching body');\n\t\t\t// GET requests don’t send a body so the body matcher should be ignored for them\n\t\t\treturn true;\n\t\t}\n\n\t\tlet sentBody;\n\n\t\ttry {\n\t\t\tdebug$3('  Parsing request body as JSON');\n\t\t\tsentBody = JSON.parse(body);\n\t\t} catch (err) {\n\t\t\tdebug$3('  Failed to parse request body as JSON', err);\n\t\t}\n\t\tdebug$3('Expected body:', expectedBody);\n\t\tdebug$3('Actual body:', sentBody);\n\t\tif (matchPartialBody) {\n\t\t\tdebug$3('matchPartialBody is true - checking for partial match only');\n\t\t}\n\n\t\treturn (\n\t\t\tsentBody &&\n\t\t\t(matchPartialBody\n\t\t\t\t? isSubset_1(sentBody, expectedBody)\n\t\t\t\t: lodash_isequal(sentBody, expectedBody))\n\t\t);\n\t};\n};\n\nconst getFullUrlMatcher = (route, matcherUrl, query) => {\n\t// if none of the special syntaxes apply, it's just a simple string match\n\t// but we have to be careful to normalize the url we check and the name\n\t// of the route to allow for e.g. http://it.at.there being indistinguishable\n\t// from http://it.at.there/ once we start generating Request/Url objects\n\tdebug$3('  Matching using full url', matcherUrl);\n\tconst expectedUrl = normalizeUrl$2(matcherUrl);\n\tdebug$3('  Normalised url to:', matcherUrl);\n\tif (route.identifier === matcherUrl) {\n\t\tdebug$3('  Updating route identifier to match normalized url:', matcherUrl);\n\t\troute.identifier = expectedUrl;\n\t}\n\n\treturn matcherUrl => {\n\t\tdebug$3('Expected url:', expectedUrl);\n\t\tdebug$3('Actual url:', matcherUrl);\n\t\tif (query && expectedUrl.indexOf('?')) {\n\t\t\tdebug$3('Ignoring query string when matching url');\n\t\t\treturn matcherUrl.indexOf(expectedUrl) === 0;\n\t\t}\n\t\treturn normalizeUrl$2(matcherUrl) === expectedUrl;\n\t};\n};\n\nconst getFunctionMatcher = ({ functionMatcher }) => {\n\tdebug$3('Detected user defined function matcher', functionMatcher);\n\treturn (...args) => {\n\t\tdebug$3('Calling function matcher with arguments', args);\n\t\treturn functionMatcher(...args);\n\t};\n};\n\nconst getUrlMatcher = route => {\n\tdebug$3('Generating url matcher');\n\tconst { url: matcherUrl, query } = route;\n\n\tif (matcherUrl === '*') {\n\t\tdebug$3('  Using universal * rule to match any url');\n\t\treturn () => true;\n\t}\n\n\tif (matcherUrl instanceof RegExp) {\n\t\tdebug$3('  Using regular expression to match url:', matcherUrl);\n\t\treturn url => matcherUrl.test(url);\n\t}\n\n\tif (matcherUrl.href) {\n\t\tdebug$3(`  Using URL object to match url`, matcherUrl);\n\t\treturn getFullUrlMatcher(route, matcherUrl.href, query);\n\t}\n\n\tfor (const shorthand in stringMatchers) {\n\t\tif (matcherUrl.indexOf(shorthand + ':') === 0) {\n\t\t\tdebug$3(`  Using ${shorthand}: pattern to match url`, matcherUrl);\n\t\t\tconst urlFragment = matcherUrl.replace(new RegExp(`^${shorthand}:`), '');\n\t\t\treturn stringMatchers[shorthand](urlFragment);\n\t\t}\n\t}\n\n\treturn getFullUrlMatcher(route, matcherUrl, query);\n};\n\nconst FetchMock$3 = {};\n\nFetchMock$3._matchers = [];\n\nFetchMock$3.addMatcher = function(matcher) {\n\tthis._matchers.push(matcher);\n};\n\nFetchMock$3.addMatcher({ name: 'query', matcher: getQueryStringMatcher });\nFetchMock$3.addMatcher({ name: 'method', matcher: getMethodMatcher });\nFetchMock$3.addMatcher({ name: 'headers', matcher: getHeaderMatcher });\nFetchMock$3.addMatcher({ name: 'params', matcher: getParamsMatcher });\nFetchMock$3.addMatcher({ name: 'body', matcher: getBodyMatcher, usesBody: true });\nFetchMock$3.addMatcher({ name: 'functionMatcher', matcher: getFunctionMatcher });\nFetchMock$3.addMatcher({ name: 'url', matcher: getUrlMatcher });\n\nvar matchers = FetchMock$3;\n\nconst { debug: debug$4, setDebugNamespace: setDebugNamespace$1, getDebug: getDebug$2 } = debug_1;\n\nconst isUrlMatcher = matcher =>\n\tmatcher instanceof RegExp ||\n\ttypeof matcher === 'string' ||\n\t(typeof matcher === 'object' && 'href' in matcher);\n\nconst isFunctionMatcher = matcher => typeof matcher === 'function';\n\nconst argsToRoute = args => {\n\tconst [matcher, response, options = {}] = args;\n\n\tconst routeConfig = {};\n\n\tif (isUrlMatcher(matcher) || isFunctionMatcher(matcher)) {\n\t\trouteConfig.matcher = matcher;\n\t} else {\n\t\tObject.assign(routeConfig, matcher);\n\t}\n\n\tif (typeof response !== 'undefined') {\n\t\trouteConfig.response = response;\n\t}\n\n\tObject.assign(routeConfig, options);\n\treturn routeConfig;\n};\n\nconst sanitizeRoute = route => {\n\tconst debug = getDebug$2('sanitizeRoute()');\n\tdebug('Sanitizing route properties');\n\troute = Object.assign({}, route);\n\n\tif (route.method) {\n\t\tdebug(`Converting method ${route.method} to lower case`);\n\t\troute.method = route.method.toLowerCase();\n\t}\n\tif (isUrlMatcher(route.matcher)) {\n\t\tdebug('Mock uses a url matcher', route.matcher);\n\t\troute.url = route.matcher;\n\t\tdelete route.matcher;\n\t}\n\n\troute.functionMatcher = route.matcher || route.functionMatcher;\n\n\tdebug('Setting route.identifier...');\n\tdebug(`  route.name is ${route.name}`);\n\tdebug(`  route.url is ${route.url}`);\n\tdebug(`  route.functionMatcher is ${route.functionMatcher}`);\n\troute.identifier = route.name || route.url || route.functionMatcher;\n\tdebug(`  -> route.identifier set to ${route.identifier}`);\n\treturn route;\n};\n\nconst validateRoute = function(route) {\n\tif (!('response' in route)) {\n\t\tthrow new Error('fetch-mock: Each route must define a response');\n\t}\n\n\tif (!this._matchers.some(({ name }) => name in route)) {\n\t\tthrow new Error(\n\t\t\t\"fetch-mock: Each route must specify some criteria for matching calls to fetch. To match all calls use '*'\"\n\t\t);\n\t}\n};\n\nconst limit = route => {\n\tconst debug = getDebug$2('limit()');\n\tdebug('Limiting number of requests to handle by route');\n\tif (!route.repeat) {\n\t\tdebug(\n\t\t\t'  No `repeat` value set on route. Will match any number of requests'\n\t\t);\n\t\treturn;\n\t}\n\n\tdebug(`  Route set to repeat ${route.repeat} times`);\n\tconst matcher = route.matcher;\n\tlet timesLeft = route.repeat;\n\troute.matcher = (url, options) => {\n\t\tconst match = timesLeft && matcher(url, options);\n\t\tif (match) {\n\t\t\ttimesLeft--;\n\t\t\treturn true;\n\t\t}\n\t};\n\troute.reset = () => (timesLeft = route.repeat);\n};\n\nconst delayResponse = route => {\n\tconst debug = getDebug$2('delayResponse()');\n\tdebug(`Applying response delay settings`);\n\tconst { delay } = route;\n\tif (delay) {\n\t\tdebug(`  Wrapping response in delay of ${delay} miliseconds`);\n\t\tconst response = route.response;\n\t\troute.response = () => {\n\t\t\tdebug(`Delaying response by ${delay} miliseconds`);\n\t\t\treturn new Promise(res => setTimeout(() => res(response), delay));\n\t\t};\n\t} else {\n\t\tdebug(\n\t\t\t`  No delay set on route. Will respond 'immediately' (but asynchronously)`\n\t\t);\n\t}\n};\n\nconst generateMatcher = function(route) {\n\tsetDebugNamespace$1('generateMatcher()');\n\tdebug$4('Compiling matcher for route');\n\n\tconst matchers = this._matchers\n\t\t.map(\n\t\t\t({ name, matcher, usesBody }) =>\n\t\t\t\troute[name] && { matcher: matcher(route, this), usesBody }\n\t\t)\n\t\t.filter(matcher => Boolean(matcher));\n\n\troute.usesBody = matchers.some(({ usesBody }) => usesBody);\n\n\tdebug$4('Compiled matcher for route');\n\tsetDebugNamespace$1();\n\treturn (url, options = {}, request) =>\n\t\tmatchers.every(({ matcher }) => matcher(url, options, request));\n};\n\nconst compileRoute = function(args) {\n\tconst debug = getDebug$2('compileRoute()');\n\tdebug('Compiling route');\n\tconst route = sanitizeRoute(argsToRoute(args));\n\tthis.validateRoute(route);\n\troute.matcher = this.generateMatcher(route);\n\tlimit(route);\n\tdelayResponse(route);\n\treturn route;\n};\n\nvar compileRoute_1 = {\n\tcompileRoute,\n\tsanitizeRoute,\n\tgenerateMatcher,\n\tvalidateRoute\n};\n\nconst { debug: debug$5 } = debug_1;\n\n\n\n\n\n\nconst FetchMock$4 = Object.assign(\n\t{},\n\tfetchHandler,\n\tsetUpAndTearDown,\n\tinspecting,\n\tcompileRoute_1,\n\tmatchers\n);\n\nFetchMock$4.config = {\n\tfallbackToNetwork: false,\n\tincludeContentLength: true,\n\tsendAsJson: true,\n\twarnOnFallback: true,\n\toverwriteRoutes: undefined\n};\n\nFetchMock$4.createInstance = function() {\n\tdebug$5('Creating fetch-mock instance');\n\tconst instance = Object.create(FetchMock$4);\n\tinstance._uncompiledRoutes = (this._uncompiledRoutes || []).slice();\n\tinstance._matchers = this._matchers.slice();\n\tinstance.routes = instance._uncompiledRoutes.map(config =>\n\t\tinstance.compileRoute(config)\n\t);\n\tinstance.fallbackResponse = this.fallbackResponse || undefined;\n\tinstance.config = Object.assign({}, this.config || FetchMock$4.config);\n\tinstance._calls = [];\n\tinstance._holdingPromises = [];\n\tinstance.bindMethods();\n\treturn instance;\n};\n\nFetchMock$4.bindMethods = function() {\n\tthis.fetchHandler = FetchMock$4.fetchHandler.bind(this);\n\tthis.reset = this.restore = FetchMock$4.reset.bind(this);\n\tthis.resetHistory = FetchMock$4.resetHistory.bind(this);\n\tthis.resetBehavior = FetchMock$4.resetBehavior.bind(this);\n};\n\nFetchMock$4.sandbox = function() {\n\tdebug$5('Creating sandboxed fetch-mock instance');\n\t// this construct allows us to create a fetch-mock instance which is also\n\t// a callable function, while circumventing circularity when defining the\n\t// object that this function should be bound to\n\tconst fetchMockProxy = (url, options) => sandbox.fetchHandler(url, options);\n\n\tconst sandbox = Object.assign(\n\t\tfetchMockProxy, // Ensures that the entire returned object is a callable function\n\t\tFetchMock$4, // prototype methods\n\t\tthis.createInstance(), // instance data\n\t\t{\n\t\t\tHeaders: this.config.Headers,\n\t\t\tRequest: this.config.Request,\n\t\t\tResponse: this.config.Response\n\t\t}\n\t);\n\n\tsandbox.bindMethods();\n\tsandbox.isSandbox = true;\n\tsandbox.default = sandbox;\n\treturn sandbox;\n};\n\nFetchMock$4.getOption = function(name, route = {}) {\n\treturn name in route ? route[name] : this.config[name];\n};\n\nvar lib = FetchMock$4;\n\nconst statusTextMap = {\n\t'100': 'Continue',\n\t'101': 'Switching Protocols',\n\t'102': 'Processing',\n\t'200': 'OK',\n\t'201': 'Created',\n\t'202': 'Accepted',\n\t'203': 'Non-Authoritative Information',\n\t'204': 'No Content',\n\t'205': 'Reset Content',\n\t'206': 'Partial Content',\n\t'207': 'Multi-Status',\n\t'208': 'Already Reported',\n\t'226': 'IM Used',\n\t'300': 'Multiple Choices',\n\t'301': 'Moved Permanently',\n\t'302': 'Found',\n\t'303': 'See Other',\n\t'304': 'Not Modified',\n\t'305': 'Use Proxy',\n\t'307': 'Temporary Redirect',\n\t'308': 'Permanent Redirect',\n\t'400': 'Bad Request',\n\t'401': 'Unauthorized',\n\t'402': 'Payment Required',\n\t'403': 'Forbidden',\n\t'404': 'Not Found',\n\t'405': 'Method Not Allowed',\n\t'406': 'Not Acceptable',\n\t'407': 'Proxy Authentication Required',\n\t'408': 'Request Timeout',\n\t'409': 'Conflict',\n\t'410': 'Gone',\n\t'411': 'Length Required',\n\t'412': 'Precondition Failed',\n\t'413': 'Payload Too Large',\n\t'414': 'URI Too Long',\n\t'415': 'Unsupported Media Type',\n\t'416': 'Range Not Satisfiable',\n\t'417': 'Expectation Failed',\n\t'418': \"I'm a teapot\",\n\t'421': 'Misdirected Request',\n\t'422': 'Unprocessable Entity',\n\t'423': 'Locked',\n\t'424': 'Failed Dependency',\n\t'425': 'Unordered Collection',\n\t'426': 'Upgrade Required',\n\t'428': 'Precondition Required',\n\t'429': 'Too Many Requests',\n\t'431': 'Request Header Fields Too Large',\n\t'451': 'Unavailable For Legal Reasons',\n\t'500': 'Internal Server Error',\n\t'501': 'Not Implemented',\n\t'502': 'Bad Gateway',\n\t'503': 'Service Unavailable',\n\t'504': 'Gateway Timeout',\n\t'505': 'HTTP Version Not Supported',\n\t'506': 'Variant Also Negotiates',\n\t'507': 'Insufficient Storage',\n\t'508': 'Loop Detected',\n\t'509': 'Bandwidth Limit Exceeded',\n\t'510': 'Not Extended',\n\t'511': 'Network Authentication Required'\n};\n\nvar statusText = statusTextMap;\n\nconst theGlobal = typeof window !== 'undefined' ? window : self;\nconst { setUrlImplementation } = requestUtils;\nsetUrlImplementation(theGlobal.URL);\n\nlib.global = theGlobal;\nlib.statusTextMap = statusText;\n\nlib.config = Object.assign(lib.config, {\n\tPromise: theGlobal.Promise,\n\tRequest: theGlobal.Request,\n\tResponse: theGlobal.Response,\n\tHeaders: theGlobal.Headers\n});\n\nvar client = lib.createInstance();\n\nexport default client;\n"]},"metadata":{},"sourceType":"module"}