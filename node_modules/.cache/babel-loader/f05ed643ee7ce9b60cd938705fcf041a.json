{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\1653020_10\\\\Source\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import{Slider,Rail,Handles,Tracks,Ticks}from\"react-compound-slider\";import{subDays,startOfToday,format}from\"date-fns\";import{scaleTime}from\"d3-scale\";import{SliderRail,Handle,Track,Tick}from'../components/seekbarComponent';import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";var sliderStyle={position:\"relative\",width:\"100%\"};function formatTick(ms){return format(new Date(ms),\"MMM dd\");}var halfHour=1000*60*60*12;function Seekbar(_ref){var handleTransdatevalue=_ref.handleTransdatevalue,handleTransPosotion=_ref.handleTransPosotion,handleTranszoomDefault=_ref.handleTranszoomDefault;var today=startOfToday();var BeginDay=subDays(Date.parse(\"2019-08-12T00:00:00\"),0);var _useState=useState(today),_useState2=_slicedToArray(_useState,2),Selected=_useState2[0],setSelected=_useState2[1];var _useState3=useState(today),_useState4=_slicedToArray(_useState3,2),updated=_useState4[0],setUpdated=_useState4[1];var _useState5=useState(BeginDay),_useState6=_slicedToArray(_useState5,1),min=_useState6[0];var _useState7=useState(today),_useState8=_slicedToArray(_useState7,1),max=_useState8[0];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isActive=_useState10[0],setIsActive=_useState10[1];var onChange=function onChange(_ref2){var _ref3=_slicedToArray(_ref2,1),ms=_ref3[0];setSelected(new Date(ms));};var onUpdate=function onUpdate(_ref4){var _ref5=_slicedToArray(_ref4,1),ms=_ref5[0];setUpdated(new Date(ms));handleTransPosotion([15.762887,106.6800684]);handleTranszoomDefault(5);handleTransdatevalue(new Date(ms));};var renderDateTime=function renderDateTime(date,header){return/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",textAlign:\"center\",fontFamily:\"Arial\",margin:5}},/*#__PURE__*/React.createElement(\"b\",null,header,\":\"),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:12}},format(date,\"yyyy-MM-dd h:mm a\")));};var Stick=function Stick(){if(Selected<today){setSelected(new Date(Date.parse(Selected)+halfHour));setUpdated(new Date(Date.parse(Selected)+halfHour));handleTransdatevalue(new Date(Date.parse(Selected)+halfHour));}else{setIsActive(!isActive);}};useInterval(function(){return Stick();},isActive?1000:null);function toggle(){setIsActive(!isActive);handleTranszoomDefault(5);handleTransPosotion([15.762887,106.6800684]);}var dateTicks=scaleTime().domain([min,max]).ticks(8).map(function(d){return+d;});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:1},/*#__PURE__*/React.createElement(\"button\",{id:\"playpause\",className:\"button button-primary button-primary-\".concat(isActive?'active':'inactive'),onClick:function onClick(){toggle();}},isActive?'Pause':'Play')),/*#__PURE__*/React.createElement(Col,{xs:11},/*#__PURE__*/React.createElement(\"div\",null,renderDateTime(updated,\"Current Day\"),/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"2%\",height:6,width:\"90%\"}},/*#__PURE__*/React.createElement(Slider,{mode:1,step:halfHour,domain:[+min,+max],rootStyle:sliderStyle,onUpdate:onUpdate,onChange:onChange,values:[+Selected]},/*#__PURE__*/React.createElement(Rail,null,function(_ref6){var getRailProps=_ref6.getRailProps;return/*#__PURE__*/React.createElement(SliderRail,{getRailProps:getRailProps});}),/*#__PURE__*/React.createElement(Handles,null,function(_ref7){var handles=_ref7.handles,getHandleProps=_ref7.getHandleProps;return/*#__PURE__*/React.createElement(\"div\",null,handles.map(function(handle){return/*#__PURE__*/React.createElement(Handle,{key:handle.id,handle:handle,domain:[+min,+max],getHandleProps:getHandleProps});}));}),/*#__PURE__*/React.createElement(Tracks,{right:false},function(_ref8){var tracks=_ref8.tracks,getTrackProps=_ref8.getTrackProps;return/*#__PURE__*/React.createElement(\"div\",null,tracks.map(function(_ref9){var id=_ref9.id,source=_ref9.source,target=_ref9.target;return/*#__PURE__*/React.createElement(Track,{key:id,source:source,target:target,getTrackProps:getTrackProps});}));}),/*#__PURE__*/React.createElement(Ticks,{values:dateTicks},function(_ref10){var ticks=_ref10.ticks;return/*#__PURE__*/React.createElement(\"div\",null,ticks.map(function(tick){return/*#__PURE__*/React.createElement(Tick,{key:tick.id,tick:tick,count:ticks.length,format:formatTick});}));})))))));}function useInterval(callback,delay){var savedCallback=useRef();// Remember the latest function.\nuseEffect(function(){savedCallback.current=callback;},[callback]);// Set up the interval.\nuseEffect(function(){function tick(){savedCallback.current();}if(delay!==null){var id=setInterval(tick,delay);return function(){return clearInterval(id);};}},[delay]);}export default Seekbar;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/1653020_10/Source/src/components/Seekbar.js"],"names":["React","useEffect","useState","useRef","Slider","Rail","Handles","Tracks","Ticks","subDays","startOfToday","format","scaleTime","SliderRail","Handle","Track","Tick","Row","Col","sliderStyle","position","width","formatTick","ms","Date","halfHour","Seekbar","handleTransdatevalue","handleTransPosotion","handleTranszoomDefault","today","BeginDay","parse","Selected","setSelected","updated","setUpdated","min","max","isActive","setIsActive","onChange","onUpdate","renderDateTime","date","header","textAlign","fontFamily","margin","fontSize","Stick","useInterval","toggle","dateTicks","domain","ticks","map","d","height","getRailProps","handles","getHandleProps","handle","id","tracks","getTrackProps","source","target","tick","length","callback","delay","savedCallback","current","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef } from 'react';\r\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\r\nimport { subDays, startOfToday, format } from \"date-fns\";\r\nimport { scaleTime } from \"d3-scale\";\r\nimport { SliderRail, Handle, Track, Tick } from '../components/seekbarComponent';\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nconst sliderStyle = {\r\n    position: \"relative\",\r\n    width: \"100%\"\r\n};\r\n\r\n\r\nfunction formatTick(ms) {\r\n    return format(new Date(ms), \"MMM dd\");\r\n}\r\n\r\nconst halfHour = 1000 * 60 * 60 * 12;\r\n\r\nfunction Seekbar ({handleTransdatevalue,handleTransPosotion,handleTranszoomDefault}){\r\n    const today = startOfToday();\r\n    const BeginDay = subDays(Date.parse(\"2019-08-12T00:00:00\"), 0);\r\n    const [Selected,setSelected] = useState(today);\r\n    const [updated, setUpdated] = useState(today);\r\n    const [min] = useState(BeginDay);\r\n    const [max] = useState(today);\r\n    const [isActive, setIsActive] = useState(false);\r\n\r\n    const onChange = ([ms]) => {\r\n        setSelected(new Date(ms));\r\n    }\r\n    const onUpdate = ([ms]) => {\r\n        setUpdated (new Date(ms));\r\n        handleTransPosotion([15.762887, 106.6800684]);\r\n        handleTranszoomDefault (5);\r\n        handleTransdatevalue(new Date(ms));\r\n    };\r\n\r\n    const renderDateTime = (date, header) => {\r\n        return (\r\n            <div\r\n                style={{\r\n                width: \"100%\",\r\n                textAlign: \"center\",\r\n                fontFamily: \"Arial\",\r\n                margin: 5\r\n            }}>\r\n            <b>{header}:</b>\r\n            <div style={{ fontSize: 12 }}>{format(date, \"yyyy-MM-dd h:mm a\")}</div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const Stick = () => {  \r\n        if (Selected < today) {\r\n            setSelected(new Date(Date.parse(Selected)+halfHour));\r\n            setUpdated(new Date(Date.parse(Selected)+halfHour));\r\n            handleTransdatevalue(new Date(Date.parse(Selected)+halfHour));\r\n        }\r\n        else {\r\n            setIsActive(!isActive);\r\n        }\r\n    } \r\n    \r\n    useInterval(() => Stick(),isActive ? 1000 : null);\r\n\r\n    function toggle() {\r\n        setIsActive(!isActive);\r\n        handleTranszoomDefault (5);\r\n        handleTransPosotion([15.762887, 106.6800684]);\r\n    }\r\n    const dateTicks = scaleTime()\r\n        .domain([min, max])\r\n        .ticks(8)\r\n        .map(d => +d);\r\n\r\n        \r\n    return <div>\r\n    <Row>\r\n            <Col xs={1}><button id=\"playpause\" className={`button button-primary button-primary-${isActive ? 'active' : 'inactive'}`} onClick={()=>{toggle()}}>\r\n                        {isActive ? 'Pause' : 'Play'}\r\n        </button></Col>\r\n            <Col xs={11}>\r\n            <div>\r\n        {renderDateTime(updated, \"Current Day\")}\r\n        <div style={{ margin: \"2%\", height: 6, width: \"90%\" }}>\r\n            <Slider\r\n                mode={1}\r\n                step={halfHour}\r\n                domain={[+min, +max]}\r\n                rootStyle={sliderStyle}\r\n                onUpdate={onUpdate}\r\n                onChange={onChange}\r\n                values={[+Selected]}>\r\n                <Rail>\r\n                    {({ getRailProps }) => <SliderRail getRailProps={getRailProps} />}\r\n                </Rail>\r\n                <Handles>\r\n                    {({ handles, getHandleProps }) => (\r\n                        <div>\r\n                        {handles.map(handle => (\r\n                        <Handle\r\n                            key={handle.id}\r\n                            handle={handle}\r\n                            domain={[+min, +max]}\r\n                            getHandleProps={getHandleProps}\r\n                        />\r\n                        ))}\r\n                        </div>\r\n                )}\r\n                </Handles>\r\n                <Tracks right={false}>\r\n                    {({ tracks, getTrackProps }) => (\r\n                    <div>\r\n                            {tracks.map(({ id, source, target }) => (\r\n                        <Track\r\n                        key={id}\r\n                        source={source}\r\n                        target={target}\r\n                        getTrackProps={getTrackProps}\r\n                        />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n                </Tracks>\r\n                <Ticks values={dateTicks}>\r\n                    {({ ticks }) => (\r\n                    <div>\r\n                        {ticks.map(tick => (\r\n                        <Tick\r\n                            key={tick.id}\r\n                            tick={tick}\r\n                            count={ticks.length}\r\n                            format={formatTick}\r\n                        />\r\n                        ))}\r\n                    </div>\r\n                    )}\r\n                </Ticks>\r\n            </Slider>\r\n        </div>\r\n        </div>\r\n            </Col>\r\n        </Row>\r\n    </div>;\r\n}\r\n\r\n\r\nfunction useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n\r\n    // Remember the latest function.\r\n    useEffect(() => {\r\n        savedCallback.current = callback;\r\n    }, [callback]);\r\n\r\n    // Set up the interval.\r\n    useEffect(() => {\r\n    function tick() {\r\n        savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n        let id = setInterval(tick, delay);\r\n        return () => clearInterval(id);\r\n    }\r\n    }, [delay]);\r\n}\r\n\r\nexport default Seekbar;"]},"metadata":{},"sourceType":"module"}